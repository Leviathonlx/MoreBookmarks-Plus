# Standard Values
@pos_compat_high = 30
@pos_compat_medium = 15
@pos_compat_low = 5

@neg_compat_high = -30
@neg_compat_medium = -15
@neg_compat_low = -5



#CK3 has no 'one handed' trait but maimed removes a hand from a character but it comes with the health reduction and a ton of other negatives. There's already 3 other variations of wounded so turning this into CK2's one-handed trait. Easier to modify this one trait than modify the many vanilla files that handle these traits to add a new one for one handed
maimed = {
	
	#diplomacy = -2
	#martial = -2
	#stewardship = -2
	#intrigue = -2
	#learning = -2
	#prowess = -4
	#health = -3
	#fertility = -0.5
	#
	#category = health
	#
	#dread_baseline_add = -15
	#dread_loss_mult = 1
	#
	#attraction_opinion = -10
	#
	#same_opinion = 5
	
	category = health
	dread_baseline_add = -10
	dread_loss_mult = 1
	
	learning = 1

	attraction_opinion = -5
	same_opinion = 5
	
	prowess = -10 #A one handed soldier won't be much use in battle
	disables_combat_leadership = yes #A one handed soldier won't be much use in battle
	
	ruler_designer_cost = -5

	shown_in_ruler_designer = no
	
	culture_modifier = {
		parameter = wounds_and_scars_give_bonuses
		monthly_prestige_gain_mult = 0.2
		same_culture_opinion = 15
	}
	
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_maimed_desc
			}
			desc = trait_maimed_character_desc
		}
	}
	ai_energy = -10
}

order_member = {
	category = fame
	flag = can_not_marry
	inheritance_blocker = all
	
	martial = 1
	prowess = 4

	same_opinion_if_same_faith = 15
	
	shown_in_ruler_designer = no
	
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_order_member_desc
			}
			desc = trait_order_member_character_desc
		}
	}

	#MB#
	valid_sex = male
	
	ai_zeal = 10
	ai_honor = 5
	ai_greed = -10
}

# Barren (f) / Sterile (m)
infertile = {
	physical = yes
	fertility = -100 #Was -0.5 #Because of all the modifier stacking in CK3 you could get to a point where a sterile/barren person is perfectly capable of having children
	opposites = {
		fecund
	}
	
	ruler_designer_cost = 0

	name = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_infertile_male
			}
			triggered_desc = {
				trigger = { is_female = yes }
				desc = trait_infertile_female
			}
			desc = trait_infertile_male
		}
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_infertile_desc
			}
			triggered_desc = {
				trigger = { is_female = yes }
				desc = trait_infertile_female_desc
			}
			desc = trait_infertile_male_desc
		}
	}
	
	#inherit_chance = 50
	genetic = yes
	enables_inbred = yes
	birth = 0.5
	random_creation = 0.5
}

#Like the idea of this from KoH to make elections more meaningful within the HRE though instead more based on the much longer Guelphs and Ghibellines rivalry between 1216-1392.
KOH_guelph = {
	diplomacy = -1
	monthly_piety_gain_mult = 0.25
	intrigue = 1
    learning = 1
	same_opinion = 75
	clergy_opinion = 20
	opposite_opinion = -75
	ai_zeal = 50

	desc = {
		desc = KOH_guelph_desc
	}

	opposites = {
		KOH_ghibelline
	}
	shown_in_ruler_designer = no 
}

KOH_ghibelline = {
	diplomacy = -1
	intrigue = 2
	opposite_opinion = -75
	same_opinion = 75
	clergy_opinion = -25
	tax_mult = 0.05
	ai_zeal = 50
	monthly_piety_gain_mult = -0.25
	monthly_prestige_gain_mult = 0.25
	opposites = {
		KOH_guelph
	}

	desc = {
		desc = KOH_ghibelline_desc
	}

	shown_in_ruler_designer = no 
}

mamaluk = {
	category = fame
	diplomacy = 2
	martial = 3
	prowess = 3

	movement_speed = 0.05                                                                                 
    

	desc = trait_mamaluk_desc
}
adopted = {

	diplomacy = -1

	icon = {
		desc = child_of_adoption.dds
	}

	ruler_designer_cost = 0

}

confucious = {
	category = fame
	icon = confucious.dds

	same_faith_opinion = 20
	learning = 5
	monthly_learning_lifestyle_xp_gain_mult = 0.5

	ruler_designer_cost = 25
	
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_confucious_desc
			}
			desc = trait_confucious_character_desc
		}
	}

	inherit_chance = 100
	parent_inheritance_sex = male
	inherit_from_real_father = no
}

jinshi = { ###进士
	category = fame	
	icon = jinshi.dds			
	learning = 5
	desc = jinshi_desc
}

zhuangyuan = { ###状元
	category = fame			
	learning = 10
	desc = zhuangyuan_desc
}

## Special Traits

#ninja = {
#	category = lifestyle
#
#	negate_health_penalty_add = 1
#	prowess = 6
#	intrigue = 3
#	character_travel_safety = 10
#
#	general_opinion = -5
#	same_opinion = 15
#
#	icon = {
#		desc = ninja.dds
#	}
#
#	ruler_designer_cost = 60
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_ninja_desc
#			}
#			desc = trait_ninja_character_desc
#		}
#	}
#}
#
#female_commander = {
#	category = fame
#	valid_sex = female
#
#	martial = 3
#	prowess = 3
#
#	same_opinion = 10
#
#	icon = {
#		desc = female_commander.dds
#	}
#
#	ruler_designer_cost = 40
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_female_commander_desc
#			}
#			desc = trait_female_commander_character_desc
#		}
#	}
#}

tea_master = {
	category = lifestyle

	diplomacy = 2
	learning = 1
	
	same_opinion = 20

	icon = {
		desc = tea_master.dds
	}

	ruler_designer_cost = 40

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_tea_master_desc
			}
			desc = trait_tea_master_character_desc
		}
	}
}

painter = {
	category = lifestyle

	stewardship = 1
	learning = 2
	
	same_opinion = 20

	icon = {
		desc = painter.dds
	}

	ruler_designer_cost = 40

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_painter_desc
			}
			desc = trait_painter_character_desc
		}
	}
}

musician = {
	category = lifestyle

	diplomacy = 1
	monthly_piety = 0.5
	
	same_faith_opinion = 5
	same_opinion = 10

	icon = {
		desc = musician.dds
	}

	ruler_designer_cost = 40

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_musician_desc
			}
			desc = trait_musician_character_desc
		}
	}
}

dancer = {
	category = lifestyle

	learning = 1
	defender_advantage = 5
	
	attraction_opinion = 5
	same_opinion = 10

	icon = {
		desc = dancer.dds
	}

	ruler_designer_cost = 40

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_dancer_desc
			}
			desc = trait_dancer_character_desc
		}
	}
}

child_of_adoption = {
	category = fame

	diplomacy = -1

	icon = {
		desc = child_of_adoption.dds
	}

	ruler_designer_cost = 0

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					OR = {
						NOT = { exists = this }
						NOT = { has_variable = shogunate_adoptive_father }
						NOT = { has_variable = shogunate_real_father }
					}
				}
				desc = trait_child_of_adoption_desc
			}
			desc = trait_child_of_adoption_character_desc
		}
	}
}


## Clan Traits

#ashikaga_family = {
#	category = fame
#
#	monthly_prestige = 0.1
#	same_opinion = 2
#
#	# Always inherited from fathers
#	inherit_chance = 100
#	parent_inheritance_sex = male
#	inherit_from_real_father = no
#
#	icon = {
#		desc = ashikaga_family.dds
#	}
#
#	ruler_designer_cost = 40
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_ashikaga_family_desc
#			}
#			desc = trait_ashikaga_family_character_desc
#		}
#	}
#}

minamoto_clan = {
	category = fame

	monthly_prestige = 0.02
	courtier_opinion = 2

	# Always inherited from fathers
	inherit_chance = 100
	parent_inheritance_sex = male
	inherit_from_real_father = no

	icon = {
		desc = minamoto_clan.dds
	}

	ruler_designer_cost = 20

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_minamoto_clan_desc
			}
			desc = trait_minamoto_clan_character_desc
		}
	}
}

taira_clan = {
	category = fame

	monthly_prestige = 0.02
	guest_opinion = 2

	# Always inherited from fathers
	inherit_chance = 100
	parent_inheritance_sex = male
	inherit_from_real_father = no

	icon = {
		desc = taira_clan.dds
	}

	ruler_designer_cost = 20

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_taira_clan_desc
			}
			desc = trait_taira_clan_character_desc
		}
	}
}

fujiwara_clan = {
	category = fame

	monthly_prestige = 0.02
	clergy_opinion = 2

	# Always inherited from fathers
	inherit_chance = 100
	parent_inheritance_sex = male
	inherit_from_real_father = no

	icon = {
		desc = fujiwara_clan.dds
	}

	ruler_designer_cost = 20

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_fujiwara_clan_desc
			}
			desc = trait_fujiwara_clan_character_desc
		}
	}
}

tachibana_clan = {
	category = fame

	monthly_prestige = 0.02
	spouse_opinion = 2

	# Always inherited from fathers
	inherit_chance = 100
	parent_inheritance_sex = male
	inherit_from_real_father = no

	icon = {
		desc = tachibana_clan.dds
	}

	ruler_designer_cost = 20

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_tachibana_clan_desc
			}
			desc = trait_tachibana_clan_character_desc
		}
	}
}

### Ranks of the Imperial Court
#
#jugoi_ge = {
#	category = fame
#
#	monthly_prestige = 0.1
#
#	ruler_designer_cost = 40
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_jugoi_ge_desc
#			}
#			desc = trait_jugoi_ge_character_desc
#		}
#	}
#}
#
#jugoi_jo = {
#	category = fame
#
#	monthly_prestige = 0.2
#
#	ruler_designer_cost = 60
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_jugoi_jo_desc
#			}
#			desc = trait_jugoi_jo_character_desc
#		}
#	}
#}
#
#shogoi_ge = {
#	category = fame
#
#	monthly_prestige = 0.3
#
#	ruler_designer_cost = 80
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shogoi_ge_desc
#			}
#			desc = trait_shogoi_ge_character_desc
#		}
#	}
#}
#
#shogoi_jo = {
#	category = fame
#
#	monthly_prestige = 0.4
#
#	ruler_designer_cost = 100
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shogoi_jo_desc
#			}
#			desc = trait_shogoi_jo_character_desc
#		}
#	}
#}
#
#jushii_ge = {
#	category = fame
#
#	monthly_prestige = 0.5
#	diplomacy = 1
#
#	ruler_designer_cost = 125
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_jushii_ge_desc
#			}
#			desc = trait_jushii_ge_character_desc
#		}
#	}
#}
#
#jushii_jo = {
#	category = fame
#
#	monthly_prestige = 0.6
#	diplomacy = 1
#	stewardship = 1
#
#	ruler_designer_cost = 150
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_jushii_jo_desc
#			}
#			desc = trait_jushii_jo_character_desc
#		}
#	}
#}
#
#shoshii_ge = {
#	category = fame
#
#	monthly_prestige = 0.8
#	diplomacy = 2
#	stewardship = 1
#
#	ruler_designer_cost = 180
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shoshii_ge_desc
#			}
#			desc = trait_shoshii_ge_character_desc
#		}
#	}
#}
#
#shoshii_jo = {
#	category = fame
#
#	monthly_prestige = 1.0
#	diplomacy = 2
#	stewardship = 2
#
#	ruler_designer_cost = 220
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shoshii_jo_desc
#			}
#			desc = trait_shoshii_jo_character_desc
#		}
#	}
#}
#
#jusanmi = {
#	category = fame
#
#	monthly_prestige = 1.5
#	diplomacy = 3
#	stewardship = 2
#
#	ruler_designer_cost = 270
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_jusanmi_desc
#			}
#			desc = trait_jusanmi_character_desc
#		}
#	}
#}
#
#shosanmi = {
#	category = fame
#
#	monthly_prestige = 2.0
#	diplomacy = 3
#	stewardship = 3
#
#	ruler_designer_cost = 330
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shosanmi_desc
#			}
#			desc = trait_shosanmi_character_desc
#		}
#	}
#}
#
#junii = {
#	category = fame
#
#	monthly_prestige = 2.5
#	diplomacy = 4
#	stewardship = 3
#
#	ruler_designer_cost = 400
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_junii_desc
#			}
#			desc = trait_junii_character_desc
#		}
#	}
#}
#
#shonii = {
#	category = fame
#
#	monthly_prestige = 3.0
#	diplomacy = 4
#	stewardship = 4
#
#	ruler_designer_cost = 500
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shonii_desc
#			}
#			desc = trait_shonii_character_desc
#		}
#	}
#}
#
#juichii = {
#	category = fame
#
#	monthly_prestige = 4.0
#	diplomacy = 5
#	stewardship = 4
#
#	ruler_designer_cost = 650
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_juichii_desc
#			}
#			desc = trait_juichii_character_desc
#		}
#	}
#}
#
#shoichii = {
#	category = fame
#
#	monthly_prestige = 5.0
#	diplomacy = 5
#	stewardship = 5
#
#	ruler_designer_cost = 800
#
#	icon = {
#		desc = imperial_court.dds
#	}
#
#	desc = {
#		first_valid = {
#			triggered_desc = {
#				trigger = {
#					NOT = { exists = this }
#				}
#				desc = trait_shoichii_desc
#			}
#			desc = trait_shoichii_character_desc
#		}
#	}
#}


## Nanboku-cho Period

northern_court = {
	category = fame
	opposites = {
		southern_court
		third_force
	}

	opposite_opinion = -50

	shown_in_ruler_designer = no

	icon = {
		desc = northern_court.dds
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_northern_court_desc
			}
			desc = trait_northern_court_character_desc
		}
	}
}

southern_court = {
	category = fame
	opposites = {
		northern_court
		third_force
	}

	opposite_opinion = -50

	shown_in_ruler_designer = no

	icon = {
		desc = southern_court.dds
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_southern_court_desc
			}
			desc = trait_southern_court_character_desc
		}
	}
}

third_force = {
	category = fame
	opposites = {
		northern_court
		southern_court
	}

	opposite_opinion = -50

	shown_in_ruler_designer = no

	icon = {
		desc = third_force.dds
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_third_force_desc
			}
			desc = trait_third_force_character_desc
		}
	}
}

##

drunkard = { # Substance Abuse (Alcohol)
	category = fame
	stewardship = -2
	prowess = -2
	health = -0.15
	stress_loss_mult = 0.2

	same_opinion = 10
	character_travel_safety = -10
	
	ruler_designer_cost = -10

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = { exists = this }
				}
				desc = trait_drunkard_desc
			}
			desc = trait_drunkard_character_desc
		}
	}

	ai_rationality = -10
	ai_energy = -15

	triggered_opinion = {
		parameter = me_intoxication_illegal
		opinion_modifier = me_drunkard_crime
	}

	compatibility = {
		temperate = @neg_compat_low
	}
}

quraysh = {
	#index = 1701 #Traits are no longer indexed
	category = fame
	ruler_designer_cost = 15
	name = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_qurashi
			}
			triggered_desc = {
				trigger = { is_female = yes }
				desc = trait_qurashiyya
			}
			desc = trait_qurashi
		}
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_quraysh_desc
			}
			desc = trait_quraysh_character_desc
		}
	}
	
	inherit_chance = 100
	parent_inheritance_sex = male
	inherit_from_real_father = no

	faith_modifier = { # Only Muslims get bonuses
		parameter = islamic_trait_effects_active
		islam_religion_opinion = 5
		zealot_opinion = 5
		short_reign_duration_mult = -0.15
		monthly_prestige = 0.15
	}
	
	#level = 1
}