##########################################################More Bookmarks Game Start Effects##########################################################

on_game_start = {
	on_actions = {
		mb_on_game_start
		holy_site_fix
		succexpstartMB
		lutici_rename_effect_setup
		dharma_setup_buddhist_canon_on_game_start
	}
	
	events = {
	
		# Shogunate
		shogunate_alliance.0001				# Setup Alliances
		shogunate_startup.0001				# Setup Living Characters
		CEIintro.0001		# Add Innovations

	}
	
}


on_game_start_after_lobby = {
    on_actions = {
        # indian_struggle_on_game_start
        # tibetan_struggle_on_game_start
        # chinese_struggle_on_game_start
        #ruler_popup_events
        #sea_set_cultural_acceptance
        on_yearly_assign_culture_faith
        #sea_historical_artifacts
        #set_tai_language
        ## assign_varnas
        set_court_languages
		#
        ## Chinese gov setup
        sea_historical_chinese_vassal_contracts
		add_right_to_rule_doctrines_on_game_start
		add_syncretic_doctrines_on_game_start
		#BAP_ce_innovations_setup = yes
		
    }
	
		
	events = {
		# Shogunate
		shogunate_startup.0001		# Setup Living Characters
	}
}

mb_on_game_start = {
	effect = {
		
		
	########################################################################################### BOOKMARK SETUP ###########################################################################################
		
		
		#IBERIAN STRUGGLE 
		
		if = {
			limit = {
				has_fp2_dlc_trigger = yes
			}
			start_struggle = { struggle_type = iberian_struggle start_phase = struggle_iberia_phase_opportunity }
		}
		if = {
			limit = {
				game_start_date >= 1098.1.1
				game_start_date < 1234.1.1
				has_fp2_dlc_trigger = yes
			}
			struggle:iberian_struggle = {
				change_struggle_phase = struggle_iberia_phase_hostility # Change to hostility. The Almoravids were not as tolerant of Christians and did invade the Peninsula several times. They collapsed in the late 1140's and were replaced with the Almohads who actually reversed part of the reconquista for a short time. They suffered a decisive defeat in 1212 which marked the end of any further Islamic conquests in Iberia
				set_faith_as_involved = faith:masmudi
			}
		}
		if = {
			limit = {
				game_start_date >= 1235.1.1
				game_start_date < 1266.1.1
				has_fp2_dlc_trigger = yes
			}
			struggle:iberian_struggle = {
				change_struggle_phase = struggle_iberia_phase_compromise # Change to compromise phase. Almohads no longer control any of al-Andalus
				set_culture_as_involved = culture:french
			}
		}
		
		if = {
			limit = {
				game_start_date >= 1267.1.1
				has_fp2_dlc_trigger = yes
			}
			struggle:iberian_struggle = {
				change_struggle_phase = struggle_iberia_phase_conciliation # Change to final phase which is conciliation. Marked by the only remaining Emirate, the Emirate of Granada, being a tributary of Castile. This would be how things would continue till it was finally conquered in 1492
			}
		}
	
		#GREENLAND STRUGGLE
		
		if = {
			limit = {
				RICE_setup_north_atlantic_flavor_pack_effect = yes
			}
			struggle:RICE_greenland_struggle = {
				set_culture_as_involved = culture:anglo_norse
				set_culture_as_involved = culture:northerner
			}
		}
		
	########################################################################################### GOVERNMENTS (MOST SET IN OTHER FILE) ###########################################################################################
	
		if = {
			limit = {
				exists = title:e_byzantium.holder
				game_start_date >= 1081.4.1
			}
			title:e_byzantium.holder = {
				every_vassal = {
					limit = {
						vassal_contract_has_modifiable_obligations = yes
					}
					#vassal_contract_decrease_obligation_level = feudal_government_taxes
					vassal_contract_decrease_obligation_level = feudal_government_levies
					set_vassal_contract_modification_blocked = no
				}
			}
		}
		
		every_living_character = {
			limit = {
				OR = {
					has_culture = culture:serbian
					has_culture = culture:croatian
				}
				is_landed = yes
				is_ruler = yes
				has_government = feudal_government
				NOT = { has_government = mercenary_government }
				has_faith = faith:slavic_pagan
				
			}
			change_government = tribal_government
		}

		
		
		
	########################################################################################### CRUSADES SETUP ###########################################################################################
		
		if = {
			limit = {
				game_start_date > 1095.11.27
			}
			religion:christianity_religion = {
				every_faith = {
					religion = {
						set_variable = {
							name = variable_ghw_unlocked # Crusades
							value = yes
						}
					}
				}
			}
			religion:islam_religion = {
				every_faith = {
					religion = {
						set_variable = {
							name = variable_ghw_unlocked # Crusades
							value = yes
						}
					}
				}
			}
		}
		
		
		########################################################################################### REGENCIES ###########################################################################################
		
		#Vanilla for reference.
		# Pre-defined historic regencies setup.
		## NOTE: we do these first to avoid feed messages getting weird due to regents being replaced immediately after getting their position.
		## 867.
		### None. Yet.
		## 1066.
		#if = {
		#	limit = { game_start_date = 1066.9.15 }
		#	# Designate some regents.
		#	## King Philippe of France & Duke Boudewijn of Flanders (friend of his dad's)
		#	character:214 = {
		#		designate_diarch = character:364
		#		# Baldwin of Flanders also promised the prior king he'd take care of Philippe, so we add that starting loyalty hook.
		#		add_hook = {
		#			type = predecessor_loyalty_hook
		#			target = character:364
		#			years = historic_regent_loyal_after_death_hook_duration_years_value
		#		}
		#		reverse_add_opinion = {
		#			target = character:364
		#			modifier = promise_to_predecessor
		#			opinion = 50
		#		}
		#	}
		#	## Count Bouchard of Vendome & Guy de Bachaumont (his uncle)
		#	character:40905 = { designate_diarch = character:40376 }
		#	## Caliph al-Mustansir & Rasad (his mother)
		#	character:3096 = { designate_diarch = character:additional_fatimids_1 }
		#	## Count Ermengol of Urgell & Infanta Sancha of Aragon (his stepmother)
		#	character:110550 = { designate_diarch = character:110514 }
		#	## Duke Dirk of Holland & Count Robrecht of Zeeland (his stepfather)
		#	character:106520 = { designate_diarch = character:368 }
		#	## Duke Sven of Ostergotland & Kol Sverker (his father)
		#	character:100530 = { designate_diarch = character:100529 }
		#	## King Salamon of Hungary & Queen Mother Anastasia (his mother, in the absence of any better recorded options, and to keep other hostile relatives out of the job)
		#	character:476 = { designate_diarch = character:637 }
		#	## Prince Demetre of Georgia & Alda Oseti (his mother)
		#	character:9957 = { designate_diarch = character:9956 }
		#	# Plus remove all the generated opinions.
		#	## King Philippe of France & Duke Boudewijn of Flanders
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:364
		#		LIEGE = character:214
		#	}
		#	## Count Bouchard of Vendome & Guy de Bachaumont
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:40376
		#		LIEGE = character:40905
		#	}
		#	## Caliph al-Mustansir & Rasad
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:additional_fatimids_1
		#		LIEGE = character:3096
		#	}
		#	## Count Ermengol of Urgell & Infanta Sancha of Aragon
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:110514
		#		LIEGE = character:110550
		#	}
		#	## Duke Dirk of Holland & Count Robrecht of Zeeland
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:368
		#		LIEGE = character:106520
		#	}
		#	## Duke Sven of Ostergotland & Kol Sverker
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:100529
		#		LIEGE = character:100530
		#	}
		#	## King Salamon of Hungary & Queen Mother Anastasia
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:637
		#		LIEGE = character:476
		#	}
		#	## Prince Demetre of Georgia & Alda Oseti
		#	remove_generated_diarch_consequences_effect = {
		#		NEW_DIARCH = character:9956
		#		LIEGE = character:9957
		#	}
		#}
		
		## Sort custom regencies.
		### Fatimid Caliphate - basically stuck in the back-end of an entrenched regencies from game start.
		#if = {
		#	limit = { exists = character:3096 }
		#	character:3096 = { trigger_event = diarchy.0012 }
		#}
		
		
		
		
		#This stuff will be done over time
		
		#936
		if = {
		
			limit = { game_start_date = 936.8.7 }
			
			
			## France
			character:90120 = { designate_diarch = character:6444 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:6444
				LIEGE = character:90120
			}
			
		}
		
		#1018
		if = {
		
			limit = { game_start_date = 1018.8.1 }
			
			
			## Portugal
			character:110530 = { designate_diarch = character:110634 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:110634
				LIEGE = character:110530
			}
			
		}
		
		#1124
		if = {
		
			limit = { game_start_date = 1124.7.7 }
			
			
			## Portugal
			character:209503 = { designate_diarch = character:207661 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:207661
				LIEGE = character:209503
			}
			
			## Japan
			character:10041053 = { designate_diarch = character:11000150 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:11000150
				LIEGE = character:10041053
			}
			
		}
		
		#1144
		if = {
		
			limit = { game_start_date = 1144.10.1 }
			
			## Japan
			character:10041055 = { designate_diarch = character:11000150 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:11000150
				LIEGE = character:10041055
			}
			
		}
		
		#1166
		if = {
		
			limit = { game_start_date = 1166.4.1 }
			
			
			## Khitai
			character:188912 = { designate_diarch = character:188908 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:188908
				LIEGE = character:188912
			}
			
			### Fatimid Caliphate 
			
			character:32910 = { designate_diarch = character:34982 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:34982
				LIEGE = character:32910
			}
			
			if = {
				limit = { exists = character:32910 }
				character:32910 = { trigger_event = diarchy.0012 }
			}
			character:32910 = {
				designate_diarch = character:3050
				start_diarchy = vizierate
				set_variable = {
					name = my_vizier
					value = character:32910
				}
			}
			
		}
		
		#1171
		if = {
		
			limit = { game_start_date = 1171.8.1 }
			
			
			## Khitai
			character:188912 = { designate_diarch = character:188908 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:188908
				LIEGE = character:188912
			}
			
			## Khamag
			character:125501 = { designate_diarch = character:Suldus1 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:Suldus1
				LIEGE = character:125501
			}
			
			## Southern Song
			character:zhuojun_zhao_545 = { designate_diarch = character:zhuojun_zhao_292 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:zhuojun_zhao_292
				LIEGE = character:zhuojun_zhao_545
			}
			
			if = {
				limit = { exists = character:zhuojun_zhao_545 }
				character:zhuojun_zhao_545 = { trigger_event = diarchy.0012 }
			}
		
			### Fatimid Caliphate 
			
			character:32910 = { designate_diarch = character:226000 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:226000
				LIEGE = character:32910
			}
			
			if = {
				limit = { exists = character:32910 }
				character:32910 = { trigger_event = diarchy.0012 }
			}
			character:32910 = {
				designate_diarch = character:3050
				start_diarchy = vizierate
				set_variable = {
					name = my_vizier
					value = character:32910
				}
			}
			
		}
		
		#1211
		if = {
		
			limit = { game_start_date = 1211.6.16 }
			
			
			## Ghurids
			
			character:144143 = { designate_diarch = character:170302 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:170302
				LIEGE = character:144143
			}
			if = {
				limit = { exists = character:144143 }
				character:144143 = { trigger_event = diarchy.0012 }
			}
			
		}
		
		#1300
		if = {
		
			limit = { game_start_date = 1300.9.10 }
			
			
			## Castile
			character:457520 = { designate_diarch = character:457666 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:457666
				LIEGE = character:457520
			}
			
			## Mamluks
			character:485000 = { designate_diarch = character:32940 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:32940
				LIEGE = character:485000
			}
			
		}
		
		#1337
		## Yuan Dynasty controlled by Empress Dowager
		if = {
		
			limit = { game_start_date = 1337.5.24 }
	
			## Yuan
			character:217284 = { designate_diarch = character:166862M29 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:166862M29
				LIEGE = character:217284
			}
			
		}
		if = {
			limit = { exists = character:217284 }
			character:217284 = { trigger_event = diarchy.0012 }
		}
		#Ilkhanate now dominated by the Jalayirids
		if = {
		
			limit = { game_start_date = 1337.5.24 }
			
			character:478030 = { designate_diarch = character:478040 }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:478040
				LIEGE = character:478030
			}
			
		}
		if = {
			limit = { exists = character:478030 }
			character:478030 = { trigger_event = diarchy.0012 }
		}
		if = {
		
			limit = { game_start_date = 1337.5.24 }
			
			character:453500 = { designate_diarch = character:andrew_moray_regent }

			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:andrew_moray_regent
				LIEGE = character:453500
			}
			
		}
		
		
		########################################################################################### LEGITIMACY ###########################################################################################
		
	# LEGITIMACY CONFIG
		#miniscule_legitimacy_gain = 20
		#minor_legitimacy_gain = 50
		#medium_legitimacy_gain = 100
		#major_legitimacy_gain = 200
		#massive_legitimacy_gain = 300
		
		#miniscule_legitimacy_loss
		#minor_legitimacy_loss
		#medium_legitimacy_loss
		#major_legitimacy_loss
		#massive_legitimacy_loss
		
		
		#769
		
		if = {
			limit = { game_start_date = 769.1.1 }
			## Karl and Karloman should have the same level of legitimacy at 3 instead of 2 and 1 respectively
			character:144999 = {
				add_legitimacy = massive_legitimacy_gain
			}
			character:6392 = {
				add_legitimacy = massive_legitimacy_gain
			}
			
			#Constantine V - Reduce his legitimacy a bit just to cover the fact that he was an Iconoclast
			character:70501 = {
				add_legitimacy = medium_legitimacy_loss
			}
		}
		
		## 867.
		if = {
			limit = { game_start_date = 867.1.1 }
			## Basileus Basileios was actually elected, so he's technically legitimate, but starts at level 2. With this he should be level 3.
			character:1700 = {
				add_legitimacy = major_legitimacy_gain
			}
		}
		
		## 1204
		if = {
			limit = { game_start_date = 1204.5.16 }
			## Epirus, Trebizond, and Nikaea
			character:215674 = {
				add_legitimacy = massive_legitimacy_gain
			}
			character:215517 = {
				add_legitimacy = massive_legitimacy_gain
			}
			character:215519 = {
				add_legitimacy = massive_legitimacy_gain
			}
		}
		
		## 1211
		if = {
			limit = { game_start_date = 1211.6.16 }
			## Epirus, Trebizond, and Nikaea
			character:215674 = {
				add_legitimacy = massive_legitimacy_gain
			}
			character:215517 = {
				add_legitimacy = massive_legitimacy_gain
			}
			character:215519 = {
				add_legitimacy = massive_legitimacy_gain
			}
		}
		
		
		
		
	########################################################################################### 1000 SETUP ###########################################################################################
	
		if = {
			limit = { game_start_date < 1000.1.1 }
			title:k_italy = { set_capital_county = title:c_pavia }
			title:k_italy.holder = { set_realm_capital = title:c_pavia }
		}
		
		
	########################################################################################### 1067 SETUP ###########################################################################################
		
		if = {
			limit = { game_start_date > 1067.1.1 }
			title:k_sakya_trizin.holder = { add_realm_law_skip_effects = male_preference_law }
		}
		
	
	########################################################################################### 1187 SETUP ###########################################################################################
	
		if = {
			limit = {
				game_start_date = 1187.8.31
			}
			character:230000 = { set_realm_capital = title:c_gurganj }
			character:204500 = {
				if = {
					limit = {
						is_alive = yes
						is_landed = yes
					}
				}
				house = {
					add_house_modifier = {
						modifier = ireland_laudabiliter_modifier
						days = 25101
					}
				}
			}
			faith:catholic = {
				change_fervor = {
					value = 24
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			faith:ashari = {
				change_fervor = {
					value = 25
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			faith:masmudi = {
				change_fervor = {
					value = 25
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			faith:slavic_pagan = {
				change_fervor = {
					value = -30
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			
			character:226000 = { #Saladin
			if = {
				limit = {
					is_alive = yes
					is_landed = yes
				}
				trigger_event = {
					id = asdac_bookmark.1101
					days = 71
					}
				}
			}
		
		}
	
		
		
	########################################################################################### 1204 SETUP ###########################################################################################
		
		if = {
			limit = {
				game_start_date = 1204.5.16
			}
			character:93052 = { set_realm_capital = title:c_gurganj }
			faith:orthodox = {
				change_fervor = {
					value = 25
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			faith:ashari = {
				change_fervor = {
					value = 25
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			faith:masmudi = {
				change_fervor = {
					value = 25
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			faith:slavic_pagan = {
				change_fervor = {
					value = -30
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			character:204514 = {
				if = {
					limit = {
						is_alive = yes
						is_landed = yes
					}
				}
				house = {
					add_house_modifier = {
						modifier = ireland_laudabiliter_modifier
						days = 18761
					}
				}
			}
			character:125501 = { #Genghis Khan Temujin
				if = {
					limit = {
						is_alive = yes
						is_landed = yes
					}
					trigger_event = {
						id = asdac_bookmark.2001
						days = 1
					}
					#trigger_event = {
					#	id = asdac_bookmark.2002
					#	days = 2
					#}
				}
			}
		}
		
	########################################################################################### GHENGIS SETUP ###########################################################################################
		
		if = {
			limit = {
				game_start_date = 1194.9.30
			}

			character:125501 = { #Genghis Khan Temujin
				if = {
					limit = {
						is_alive = yes
						is_landed = yes
					}
					trigger_event = {
						id = asdac_bookmark.2001
						days = 1
					}
				}
			}
		}
		
		if = {
			limit = {
				game_start_date = 1187.8.31
			}

			character:125501 = { #Genghis Khan Temujin
				if = {
					limit = {
						is_alive = yes
						is_landed = yes
					}
					trigger_event = {
						id = asdac_bookmark.2001
						days = 1
					}
				}
			}
		}
		
		#if = {
		#	limit = {
		#		game_start_date = 1166.4.1
		#	}
		#
		#	character:125501 = { #Genghis Khan Temujin
		#		if = {
		#			limit = {
		#				is_alive = yes
		#				is_landed = yes
		#			}
		#			trigger_event = {
		#				id = asdac_bookmark.2001
		#				days = 1
		#			}
		#		}
		#	}
		#}
		
	
	########################################################################################### 1235 SETUP ###########################################################################################
		
		if = {
			limit = {
				game_start_date > 1235.1.1
			}
			faith:bosnian_church = { remove_doctrine = special_doctrine_ecumenical_christian }
		}
		
	########################################################################################### 1337 SETUP ###########################################################################################
		
		if = {
			limit = {
				game_start_date >= 1337.1.1
			}
			title:d_ryazan.holder = { set_realm_capital = title:c_ryazan }
			title:e_golden_horde.holder = { set_realm_capital = title:c_itil }
			faith:slavic_pagan = {
				change_fervor = {
					value = -30
					desc = cultural_acceptance_historical_relations#test_interaction_fervor_gain
				}
			}
			character:170258 = {
				set_realm_capital = title:c_delhi
			}
			title:d_opsikion = { set_capital_county = title:c_prusa } #Nicaea was irrelevant during the Ottoman period
			title:d_opsikion.holder = { set_realm_capital = title:c_prusa }
			title:c_nikaea = { set_color_from_title = title:c_nikaea }
						
			title:d_charsianon.holder = { set_realm_capital = title:c_kaisereia }

		}
		
		if = {
			limit = { game_start_date >= 1285.1.1 }
			#Mainly just to make the major cultures that don't have 4 traditions have the 4 by the later bookmarks. This is an area that's always seemed imbalanced with there being cultures with 3 traditions and then others with 5. 
			culture:irish = { remove_culture_tradition = tradition_polygamous }
			culture:gaelic = { remove_culture_tradition = tradition_concubines }
			culture:welsh = { remove_culture_tradition = tradition_concubines }
			culture:cumbrian = { remove_culture_tradition = tradition_concubines }
			culture:lithuanian = { add_culture_tradition = tradition_culture_blending }
			culture:french = { add_culture_tradition = tradition_legalistic }
			culture:russian = { add_culture_tradition = tradition_pravda_russkaya }
			culture:novgorodian = { add_culture_tradition = tradition_hereditary_hierarchy }
			culture:hungarian = { add_culture_tradition = tradition_ruling_caste }
			culture:bavarian = { add_culture_tradition = tradition_welcoming }
			culture:swabian = { add_culture_tradition = tradition_swords_for_hire }
			culture:franconian = { add_culture_tradition = tradition_loyal_soldiers }
			culture:saxon = { add_culture_tradition = tradition_fervent_temple_builders }
			culture:polish = { add_culture_tradition = tradition_stalwart_defenders }
			culture:masmuda = { add_culture_tradition = tradition_zealous_people }
			culture:baranis = { add_culture_tradition = tradition_barbary_corsairs }
			culture:tumed = { add_culture_tradition = tradition_dryland_dwellers }
		}
		if = {
			limit = { game_start_date >= 700.1.1 }
			#Add isolationist to cultures that generally didn't marry far and wide
			culture:pictish = { remove_culture_tradition = tradition_isolationist }
			culture:welsh = { remove_culture_tradition = tradition_isolationist }
			culture:cornish = { remove_culture_tradition = tradition_isolationist }
			culture:dumnonian = { remove_culture_tradition = tradition_isolationist }
			culture:cumbrian = { add_culture_tradition = tradition_isolationist }
			culture:irish = { add_culture_tradition = tradition_isolationist }
			culture:gaelic = { add_culture_tradition = tradition_isolationist }
			culture:arberian = { add_culture_tradition = tradition_isolationist }
		}
		if = {
			limit = { game_start_date > 1080.1.1 }
			culture:greek = { add_culture_tradition = tradition_zealous_people }
		}
		
		if = {
			limit = { game_start_date >= 1337.1.1 }
			if = {
				limit = {
					OR = {
						has_game_rule = matrilineal_marriages_never
						AND = {
							has_game_rule = matrilineal_marriages_female_and_equal
							has_game_rule = default_gender_equality
						}
					}
				}
				character:461703 = {
					create_betrothal = character:469513
				}
			} 
			else = {
				character:461703 = {
					create_betrothal_matrilineal = character:469513
				}
			}
		}
		
		
	########################################################################################### DE JURE TERRITORY SETUP ###########################################################################################
		
		
		##A much easier way to set de_jure territory changes without touching history files. Also comes with the added benefit of it not requiring me to restart the game to test it
		
		
		#Titles that never have a de_jure//other stuff for all Bookmarks
		
		if = {
			limit = {
				game_start_date >= 769.1.1
			}

			title:k_papal_state = { set_de_jure_liege_title = title:e_null_empire_italia } #Papacy should never be 'de jure' anything. Trying to lay claim to the Papacy typically lead to a war with your neighbors. For example Lombardia claiming Rome was used as a reason by Charlemagne to invade.
			title:k_papal_states = { set_de_jure_liege_title = title:e_null_empire_italia }
			title:k_venice = { set_de_jure_liege_title = title:e_null_empire_italia } #The Republics should stay independent. An empire could vassalize them but they weren't going to be happy about it.
			title:k_genoa = { set_de_jure_liege_title = title:e_null_empire_italia } #The Republics should stay independent. An empire could vassalize them but they weren't going to be happy about it.
			title:k_pisa = { set_de_jure_liege_title = title:e_null_empire_italia } #The Republics should stay independent. An empire could vassalize them but they weren't going to be happy about it.
			
			title:k_georgia = { set_de_jure_liege_title = title:e_null_empire_caucasus } #We don't want the ERE 'de jure' conquering Armenia or Georgia. Area was a borderlands of empires.
			title:k_old_armenia = { set_de_jure_liege_title = title:e_null_empire_anatolia } #We don't want the ERE 'de jure' conquering Armenia or Georgia. Area was a borderlands of empires.
			title:k_caucasus = { set_de_jure_liege_title = title:e_null_empire_caucasus } #Don't want the ERE having a de jure Alania or a steppe tribe having a de jure claim on it
			title:k_armenia = { set_de_jure_liege_title = title:e_null_empire_anatolia } #We don't want the ERE 'de jure' conquering Armenia or Georgia. Area was a borderlands of empires.
			title:k_kabulistan = { set_de_jure_liege_title = title:e_null_empire_kabulistan } #The region of Afghanistan tended to change hands quite often and was more a borderland
			title:k_shirvan = { set_de_jure_liege_title = title:e_null_empire_caucasus } #Don't want Persia having a claim on Shirvan. Don't want steppe having it either.
			
			title:k_sahara = { set_de_jure_liege_title = title:e_null_empire_sahara } #It's the Sahara. Even in the EU4 time period you'd have a hard time convincing me to allow an empire having 'de jure' control of this
			title:k_darfur = { set_de_jure_liege_title = title:e_null_empire_sahara } #Don't want Kanem de jure conquering into east Africa
			title:k_daju = { set_de_jure_liege_title = title:e_null_empire_sahara }
			title:k_mauretania = { set_de_jure_liege_title = title:e_null_empire_sahara } #Area was generally not that securely under control
			
			
			title:k_liuqiu = { set_de_jure_liege_title = title:e_null_taiwan } #Since I don't have the other parts of the empire Taiwan belongs to and I don't want China conquering it so I don't want to move it there
			title:k_maldives = { set_de_jure_liege_title = title:e_null_maldives }
			
			title:c_yamashiro = { set_de_jure_liege_title = title:d_yamato_imperial }
		
			
			
		}
		
		if = {
			limit = {
				game_start_date >= 1234.1.1
			}
		
			title:k_khwarezmia = { set_de_jure_liege_title = title:e_null_empire } #Region became a borderland between the 3 Khaganates

			
		}
		
		
		#if = {
		#	limit = {
		#		game_start_date <= 900.1.1
		#		game_start_date >= 800.1.1
		#	}
		#
		#	title:d_somerset = { set_de_jure_liege_title = title:k_wessex }
		#	title:d_cornwall = { set_de_jure_liege_title = title:k_wessex }
		#	title:d_canterbury = { set_de_jure_liege_title = title:k_wessex }
		#	title:d_essex = { set_de_jure_liege_title = title:k_wessex }
		#	title:d_gloucester = { set_de_jure_liege_title = title:k_mercia }
		#	title:d_norfolk = { set_de_jure_liege_title = title:k_east_anglia }
		#	title:d_hereford = { set_de_jure_liege_title = title:k_mercia }
		#	title:d_northumberland = { set_de_jure_liege_title = title:k_northumberland }
		#	title:d_york = { set_de_jure_liege_title = title:k_northumberland }
		#	title:d_lancaster = { set_de_jure_liege_title = title:k_northumberland }
		#	title:d_lothian = { set_de_jure_liege_title = title:k_northumberland }
		#}
		#
		#if = {
		#	limit = {
		#		game_start_date <= 800.1.1
		#		game_start_date >= 700.1.1
		#	}
		#
		#	title:d_somerset = { set_de_jure_liege_title = title:k_wessex }
		#	title:d_cornwall = { set_de_jure_liege_title = title:k_wessex }
		#	title:d_canterbury = { set_de_jure_liege_title = title:k_kent }
		#	title:d_essex = { set_de_jure_liege_title = title:k_essex }
		#	title:d_gloucester = { set_de_jure_liege_title = title:k_hwicce }
		#	title:d_norfolk = { set_de_jure_liege_title = title:k_east_anglia }
		#	title:d_hereford = { set_de_jure_liege_title = title:k_mercia }
		#	title:d_northumberland = { set_de_jure_liege_title = title:k_northumberland }
		#	title:d_york = { set_de_jure_liege_title = title:k_northumberland }
		#	title:d_lancaster = { set_de_jure_liege_title = title:k_northumberland }
		#	title:d_lothian = { set_de_jure_liege_title = title:k_northumberland }
		#}
		
		#For when Old Armenia is used in 769
		if = {
			limit = {
				game_start_date >= 769.1.1
				game_start_date <= 861.1.1
			}

			title:d_greater_armenia = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_suenik = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_vaspurakan = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_mesopotamia = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_dzopk = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_artsakh = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_georgia = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_taron = { set_de_jure_liege_title = title:k_old_armenia }
			title:d_melitene = { set_de_jure_liege_title = title:k_old_armenia }
		}
		
		
		#769 Setup
		
		#if = {
		#	limit = {
		#		game_start_date >= 769.1.1
		#		game_start_date <= 867.1.1
		#	
		#	}
		#
		#	title:k_bohemia = { set_de_jure_liege_title = title:e_wendish_empire }
		#}
		
		if = {
			limit = {
				game_start_date >= 769.1.1
				game_start_date <= 866.1.2
			}

			title:k_dacia = { set_de_jure_liege_title = title:e_bulgaria }
			title:k_moldavia = { set_de_jure_liege_title = title:e_bulgaria }
			
			title:d_holland = { set_de_jure_liege_title = title:k_lotharingia }
			title:d_frisia = { set_de_jure_liege_title = title:k_lotharingia }
			title:d_gelre = { set_de_jure_liege_title = title:k_lotharingia }
			title:d_utrecht = { set_de_jure_liege_title = title:k_lotharingia }
			
			title:d_swabia = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_augsburg = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_currezia = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_teck = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_baden = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_tubingen = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_east_franconia = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_augsburg = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_hesse = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_mainz = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_nuremberg = { set_de_jure_liege_title = title:k_old_franconia }
			title:d_west_franconia = { set_de_jure_liege_title = title:k_old_franconia }
			
			title:d_carinthia = { set_de_jure_liege_title = title:k_bavaria }
			title:d_osterreich = { set_de_jure_liege_title = title:k_bavaria }
			title:d_istria = { set_de_jure_liege_title = title:k_bavaria }
			title:d_krain = { set_de_jure_liege_title = title:k_bavaria }
			title:d_steyermark = { set_de_jure_liege_title = title:k_bavaria }
			
			
		}
		
		if = {
			limit = {
				game_start_date >= 800.1.1
				game_start_date <= 867.1.2
			}

			title:k_dacia = { set_de_jure_liege_title = title:e_bulgaria }
			title:k_moldavia = { set_de_jure_liege_title = title:e_bulgaria }
			
			title:d_holland = { set_de_jure_liege_title = title:k_lotharingia }
			title:d_frisia = { set_de_jure_liege_title = title:k_lotharingia }
			title:d_gelre = { set_de_jure_liege_title = title:k_lotharingia }
			title:d_utrecht = { set_de_jure_liege_title = title:k_lotharingia }
			
			title:d_carinthia = { set_de_jure_liege_title = title:k_bavaria }
			title:d_osterreich = { set_de_jure_liege_title = title:k_bavaria }
			title:d_istria = { set_de_jure_liege_title = title:k_bavaria }
			title:d_krain = { set_de_jure_liege_title = title:k_bavaria }
			title:d_steyermark = { set_de_jure_liege_title = title:k_bavaria }
			
			
		}
		
		if = {
			limit = {
				game_start_date >= 769.1.1
				game_start_date <= 936.1.1
			}

			title:d_syrmia = { set_de_jure_liege_title = title:k_croatia }
			title:d_bosna = { set_de_jure_liege_title = title:k_serbia }
			title:d_realusora = { set_de_jure_liege_title = title:k_serbia }
			title:k_jazira = { set_de_jure_liege_title = title:e_arabia }
		}
		
		
		#867 - 2 Setup (For bookmark where e_francia does not exist)
		
		if = {
			limit = {
				game_start_date = 867.1.2
			}

			title:k_italy = { set_de_jure_liege_title = title:e_italy }
		}
		
		#936
		
		if = {
			limit = {
				game_start_date = 936.8.7
			}

			title:d_moravia = { set_de_jure_liege_title = title:k_bohemia }
		}
		
		#993
		
		if = {
			limit = {
				game_start_date = 993.1.1
			}

			title:d_syrmia = { set_de_jure_liege_title = title:k_croatia }
			title:d_bosna = { set_de_jure_liege_title = title:k_serbia }
			title:d_realusora = { set_de_jure_liege_title = title:k_serbia }
			title:d_lausitz = { set_de_jure_liege_title = title:k_saxony }
			title:d_ostmark = { set_de_jure_liege_title = title:k_saxony }
		}
		
		#1018-1066
		
		if = {
			limit = {
				game_start_date >= 1018.1.1
				game_start_date <= 1067.1.1
			}

			title:d_syrmia = { set_de_jure_liege_title = title:k_croatia }
			title:d_ostmark = { set_de_jure_liege_title = title:k_saxony }
			
		}
		
		#1066-1144
		
		if = {
			limit = {
				game_start_date >= 1066.1.1
				game_start_date <= 1145.1.1
			}

			title:d_ostmark = { set_de_jure_liege_title = title:k_saxony }
			
		}
		
		#HRE setup
		
		if = {
			limit = {
				game_start_date >= 993.1.1
				game_start_date < 1000.1.1
			}

			title:k_italy = { set_de_jure_liege_title = title:e_hre }
			title:k_romagna = { set_de_jure_liege_title = title:e_hre }
			title:k_burgundy = { set_de_jure_liege_title = title:e_hre }
			title:k_sardinia = { set_de_jure_liege_title = title:e_null_empire_italia } #To remove the e_italia title since when the HRE has Italy the only remaining title is Sardinia. 
		}
		
		if = {
			limit = {
				game_start_date >= 1001.1.1
				game_start_date <= 1266.1.1
			}

			title:k_italy = { set_de_jure_liege_title = title:e_hre }
			title:k_romagna = { set_de_jure_liege_title = title:e_hre }
			title:k_burgundy = { set_de_jure_liege_title = title:e_hre }
			title:k_sardinia = { set_de_jure_liege_title = title:e_null_empire_italia } #To remove the e_italia title since when the HRE has Italy the only remaining title is Sardinia. 
			title:k_sicily = { set_de_jure_liege_title = title:e_null_empire_italia } #ERE loses claim on Sicily but it'd be odd to have a 'Empire of Italy' that consists just of Sardinia and Sicily and I don't want the HRE having an easy way to get Sicily
		}
		
		if = {
			limit = {
				game_start_date >= 1267.1.1 #Once the Hohenstaufens are gone all that remains is northern Italy under the HRE. Can let e_italy exist again.
				game_start_date <= 1338.1.1
			}
			title:k_burgundy = { set_de_jure_liege_title = title:e_hre } 
		}
		
		#End HRE setup
		
		
		#ERE Setup - To show the weakening of the ERE
		
		if = {
			limit = {
				game_start_date >= 1081.1.1
				game_start_date <= 1300.1.1
			}
		
			title:k_anatolia = { set_de_jure_liege_title = title:e_null_empire_anatolia } #Anatolia lost to the Turks
		}
		
		if = {
			limit = {
				game_start_date >= 1166.1.1
			}
		
			title:k_cilician = { set_de_jure_liege_title = title:e_null_empire_anatolia } #Cilicia never back under the ERE
		}
		
		if = {
			limit = {
				game_start_date >= 1194.1.1
			}
		
			title:k_cyprus = { set_de_jure_liege_title = title:e_null_empire_anatolia } #Cyprus lost to the crusader states
			
		}
		
		if = {
			limit = {
				game_start_date = 1018.8.1
			}
		
			title:k_bulgaria = { set_de_jure_liege_title = title:e_byzantium }
		}
		
		if = {
			limit = {
				game_start_date >= 1204.1.1
				game_start_date <= 1336.1.1
			}
			
			title:k_serbia = { set_de_jure_liege_title = title:e_null_empire_balkans } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1204.1.1
			}

			#So the re-made ERE doesn't just instantly gobble up the other 2 Despotates
			title:k_trebizond = { set_de_jure_liege_title = title:e_null_empire_anatolia } 
			title:k_epirus = { set_de_jure_liege_title = title:e_null_empire_greece } 
			title:k_krete = { set_de_jure_liege_title = title:e_null_empire_greece } 
			
		}
		
		#By the 1200's prob a good idea to make northern Japan de jure part of k_yamato rather than ezo
		if = {
			limit = {
				game_start_date >= 1200.1.1
			}
		
			title:d_mutsu = { set_de_jure_liege_title = title:k_yamato }
			title:d_dewa = { set_de_jure_liege_title = title:k_yamato } 
		}
		
		if = {
			limit = {
				game_start_date >= 1337.1.1
			}
		
			title:k_serbia = { set_de_jure_liege_title = title:e_serbia }
			title:k_epirus = { set_de_jure_liege_title = title:e_serbia } #Technically the empire was proclaimed before Epirus was conquered but this makes the Empire not only have 1 Kingdom and also makes it so it can't be made right away in 1337
		}
		
		#End ERE setup
		
		##For when the Liao Dynasty controls Mongolia
		#if = {
		#	limit = {
		#		game_start_date >= 918.1.1
		#		game_start_date <= 1127.1.1
		#	}
		#
		#	title:d_arkhangai = { set_de_jure_liege_title = title:k_liao }
		#	title:d_gobi_altai = { set_de_jure_liege_title = title:k_liao }
		#	title:d_khovd = { set_de_jure_liege_title = title:k_liao }
		#	title:d_khovsgol = { set_de_jure_liege_title = title:k_liao }
		#	title:d_selenga_valley = { set_de_jure_liege_title = title:k_liao }
		#	title:d_ubsunur_hollow = { set_de_jure_liege_title = title:k_liao }
		#	title:d_ogrash = { set_de_jure_liege_title = title:k_liao }
		#	title:d_otuken = { set_de_jure_liege_title = title:k_liao }
		#	title:d_ovorkhangai = { set_de_jure_liege_title = title:k_liao }
		#	title:d_tatars = { set_de_jure_liege_title = title:k_liao }
		#	title:d_bayad = { set_de_jure_liege_title = title:k_liao }
		#}
		
		if = {
			limit = {
				game_start_date >= 1144.1.1
				game_start_date <= 1219.1.1
			}
			title:k_goguryeo_china = { set_de_jure_liege_title = title:e_jurchen_china }
			title:k_khitan_china = { set_de_jure_liege_title = title:e_jurchen_china }
			title:k_yan_china = { set_de_jure_liege_title = title:e_jurchen_china }
			title:k_yinshan_china = { set_de_jure_liege_title = title:e_jurchen_china }
		}
		
		#For when the Kara-Khitai exist
		if = {
			limit = {
				game_start_date >= 1144.1.1
				game_start_date <= 1219.1.1
			}
		
			title:k_zhetysu = { set_de_jure_liege_title = title:e_kara_khitai } 
			title:k_syr_darya = { set_de_jure_liege_title = title:e_kara_khitai } 
			title:k_transoxiana = { set_de_jure_liege_title = title:e_kara_khitai } 
		}
		
		
		#Italian Republics
		
		#Republic of Pavia - 1140-Rest of game		d_pavia_republic
		#Republic of Arezzo - 1167-Rest of game		d_arezzo_republic
		#Republic of Florence - 1167-Rest of game	d_firenze_republic
		#Republic of Lucca - 1160-Rest of game		d_lucca_republic
		#Republic of Mantua - 1167-Rest of game		d_mantua_republic
		#Republic of Parma - 1138-Rest of game		d_parma_republic
		#Republic of Padova - 1153-Rest of game		d_padova_republic
		#Republic of Asti - 1140-Rest of game		d_asti_republic
		#Republic of Siena - 1167-1310				d_siena_republic
		#Republic of Cremona - 1093-1310			d_cremona_republic
		#Republic of Milan - 1026-1310				d_milano_republic
		#Republic of Bergamo - 1095-1310			d_bergamo_republic
		#Republic of Vicenza - 1147-1297			d_vicenza_republic
		#Republic of Modena - 1149-1285				d_modena_republic
		#Republic of Reggio - 1136-1267				d_reggio_republic
		

		if = {
			limit = {
				game_start_date >= 1167.1.1
			}
		
			title:c_arezzo = { set_de_jure_liege_title = title:d_arezzo_republic } 
		}
		
		#I just re-name d_toscana
		#if = {
		#	limit = {
		#		game_start_date >= 1167.1.1
		#	}
		#
		#	title:c_firenze = { set_de_jure_liege_title = title:d_firenze_republic } 
		#	title:c_volterra = { set_de_jure_liege_title = title:d_firenze_republic } 
		#}
		
		if = {
			limit = {
				game_start_date >= 1160.1.1
			}
		
			title:c_lucca = { set_de_jure_liege_title = title:d_lucca_republic } 
			title:c_luni = { set_de_jure_liege_title = title:d_lucca_republic } 
			title:c_guidi = { set_de_jure_liege_title = title:d_lucca_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1167.1.1
			}
		
			title:c_mantua = { set_de_jure_liege_title = title:d_mantua_republic } 
			title:c_novellara = { set_de_jure_liege_title = title:d_mantua_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1130.1.1
			}
		
			title:c_parma = { set_de_jure_liege_title = title:d_parma_republic } 
		}
		
		
		if = {
			limit = {
				game_start_date >= 1130.1.1
				game_start_date <= 1313.1.1
			}
		
			title:c_piacenza = { set_de_jure_liege_title = title:d_piacenza_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1313.1.1
			}
		
			title:c_piacenza = { set_de_jure_liege_title = title:d_lombardia } 
		}
		
		if = {
			limit = {
				game_start_date >= 1153.1.1
			}
		
			title:c_padua = { set_de_jure_liege_title = title:d_padova_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1140.1.1
			}
		
			title:c_monferrato = { set_de_jure_liege_title = title:d_asti_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1167.1.1
			}
		
			title:c_siena = { set_de_jure_liege_title = title:d_siena_republic } 
			title:c_scialenga = { set_de_jure_liege_title = title:d_siena_republic } 
			title:c_piombino = { set_de_jure_liege_title = title:d_siena_republic } 
			title:c_orbetello = { set_de_jure_liege_title = title:d_siena_republic } 
		}
		
		
		if = {
			limit = {
				game_start_date >= 1026.1.1
				game_start_date <= 1310.1.1
			}
		
			title:c_lombardia = { set_de_jure_liege_title = title:d_milano_republic } 
			title:c_sepiro = { set_de_jure_liege_title = title:d_milano_republic } 
			title:c_como = { set_de_jure_liege_title = title:d_milano_republic } 
			title:c_bergamo = { set_de_jure_liege_title = title:d_milano_republic } 
			title:c_cremona = { set_de_jure_liege_title = title:d_milano_republic } 
			title:c_pavia = { set_de_jure_liege_title = title:d_milano_republic } 
			title:c_brescia = { set_de_jure_liege_title = title:d_milano_republic } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1093.1.1
				game_start_date <= 1310.1.1
			}
		
			title:c_cremona = { set_de_jure_liege_title = title:d_cremona_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1140.1.1
			}
		
			title:c_pavia = { set_de_jure_liege_title = title:d_pavia_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1095.1.1
				game_start_date <= 1310.1.1
			}
		
			title:c_bergamo = { set_de_jure_liege_title = title:d_bergamo_republic } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1147.1.1
				game_start_date <= 1297.1.1
			}
		
			title:c_bassano = { set_de_jure_liege_title = title:d_vicenza_republic } 
			title:c_verona = { set_de_jure_liege_title = title:d_vicenza_republic } 
			title:c_treviso = { set_de_jure_liege_title = title:d_vicenza_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1140.1.1
				game_start_date <= 1335.1.1
			}
		
			title:c_modena = { set_de_jure_liege_title = title:d_modena_republic } 
		}
		
		if = {
			limit = {
				game_start_date >= 1140.1.1
				game_start_date <= 1335.1.1
			}
		
			title:c_reggionellemilia = { set_de_jure_liege_title = title:d_reggio_republic } 
		}
		
		#Georgian Kingdoms
		if = {
			limit = {
				game_start_date >= 1259.1.1
				game_start_date <= 1336.1.1
			}
			
			title:k_imereti = { set_de_jure_liege_title = title:e_null_empire_caucasus }
			title:k_iberia = { set_de_jure_liege_title = title:e_null_empire_caucasus }
			
			title:d_abkhazia = { set_de_jure_liege_title = title:k_imereti }
			title:d_racha = { set_de_jure_liege_title = title:k_imereti }
			title:d_mingrelia = { set_de_jure_liege_title = title:k_imereti }
			title:d_meshketi = { set_de_jure_liege_title = title:k_imereti }
			title:d_imeretia = { set_de_jure_liege_title = title:k_imereti }
			
			
			title:d_kartli = { set_de_jure_liege_title = title:k_iberia }
			title:d_kakheti = { set_de_jure_liege_title = title:k_iberia }
			title:d_hereti = { set_de_jure_liege_title = title:k_iberia }
			title:d_georgia = { set_de_jure_liege_title = title:k_iberia }
		
		}
		
		#Make e_egypt have de_jure territory once the Fatimids exist and into the Ayyubids and Mamluks
		if = {
			limit = {
				game_start_date >= 970.1.1
				game_start_date <= 1090.1.1
			}
		
			title:k_egypt = { set_de_jure_liege_title = title:e_egypt } 
			title:k_jerusalem = { set_de_jure_liege_title = title:e_egypt } 
			title:k_syria = { set_de_jure_liege_title = title:e_egypt } 
			title:k_antioch = { set_de_jure_liege_title = title:e_egypt } 
		}
		
		if = {
			limit = {
				game_start_date >= 1091.1.1
				game_start_date <= 1291.1.1
			}
		
			title:k_egypt = { set_de_jure_liege_title = title:e_egypt } 
			title:k_jerusalem = { set_de_jure_liege_title = title:e_null_levant } #The main reason for this is since I'd rather Jerusalem be the target of Crusades and Jihads without the e_egpyt holder just declaring a de jure war within a year of game start
			title:k_syria = { set_de_jure_liege_title = title:e_egypt } 
			title:k_antioch = { set_de_jure_liege_title = title:e_egypt } 
		}
		if = {
			limit = {
				game_start_date >= 1292.1.1
				game_start_date <= 1338.1.1
			}
		
			title:k_egypt = { set_de_jure_liege_title = title:e_egypt } 
			title:k_jerusalem = { set_de_jure_liege_title = title:e_egypt } #Let Jerusalem once again be under the empire title once the Kingdom ceases to exist
			title:k_syria = { set_de_jure_liege_title = title:e_egypt } 
			title:k_antioch = { set_de_jure_liege_title = title:e_egypt } 

			
		}
		
		if = {
			limit = {
				game_start_date >= 1206.1.1
				game_start_date <= 1338.1.1
			}

			title:d_phetchabun = { set_de_jure_liege_title = title:k_sukhothai } 
			title:d_sukhothai = { set_de_jure_liege_title = title:k_sukhothai } 
			title:d_tak = { set_de_jure_liege_title = title:k_sukhothai } 
			title:d_u_thong = { set_de_jure_liege_title = title:k_sukhothai } 
			title:d_pribpri = { set_de_jure_liege_title = title:k_sukhothai } 
			title:d_kra = { set_de_jure_liege_title = title:k_sukhothai } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1230.1.1
				game_start_date <= 1338.1.1
			}

			title:d_mallorca = { set_de_jure_liege_title = title:k_mallorca } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1060.1.1
				game_start_date <= 1338.1.1
			}
			
			title:d_hormuz = { set_de_jure_liege_title = title:k_ormus } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1215.1.1
			}
			
			title:d_sinhala = { set_de_jure_liege_title = title:k_jaffna } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1147.1.1
			}
			
			title:d_anartta = { set_de_jure_liege_title = title:k_kutch } 
			
		}
		
		
		if = {
			limit = {
				game_start_date >= 915.1.1
			}
			
			title:c_bhumilka = { set_de_jure_liege_title = title:d_bhumilka } 
			title:c_somnath = { set_de_jure_liege_title = title:d_bhumilka } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1324.1.1
			}
			
			title:d_dandakaranya = { set_de_jure_liege_title = title:k_bastar } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1324.1.1
			}
			
			title:d_vidharba = { set_de_jure_liege_title = title:k_chanda } 
			
		}
		
		if = {
			limit = {
				game_start_date >= 1030.1.1
				game_start_date <= 1338.1.1
			}
			
			title:k_xia = { set_de_jure_liege_title = title:e_xi_xia } #e_xi_xia not having de jure territory breaks the Mongol empire invasion casus belli when it declares war on the title. Will let the empire title continue to exist after Mongol conquest just for the alt history aspect of reclaiming the empire
			title:k_xia_china = { set_de_jure_liege_title = title:e_xi_xia }
			
		}
		
		if = {
			limit = {
				game_start_date >= 1170.1.1
			}

			title:d_sutiya = { set_de_jure_liege_title = title:k_chutia } 
		}
		
		if = {
			limit = {
				game_start_date >= 1228.1.1
			}
			
			title:d_ahom = { set_de_jure_liege_title = title:k_ahom } 
			title:c_haruppeswara = { set_de_jure_liege_title = title:d_ahom } 
			title:c_charaideo = { set_de_jure_liege_title = title:d_ahom } 
			title:d_para_lauhitya = { set_de_jure_liege_title = title:k_kachari } 
		}
		
		if = {
			limit = {
				game_start_date >= 734.1.1
			}
			
			title:d_medapata = { set_de_jure_liege_title = title:k_mewar } 
		}
		
		if = {
			limit = {
				game_start_date >= 1226.1.1
			}
			
			title:d_maru = { set_de_jure_liege_title = title:k_mawar } 
		}
		
		if = {
			limit = {
				game_start_date >= 1156.1.1
			}
			
			title:d_stravani = { set_de_jure_liege_title = title:k_jaisalmer } 
		}
		
		if = {
			limit = {
				game_start_date >= 1192.1.1
			}
			
			title:d_jangladesh = { set_de_jure_liege_title = title:k_jangladesh } 
		}
		
		if = {
			limit = {
				game_start_date >= 1220.1.1
			}
			
			title:d_baltiyul = { set_de_jure_liege_title = title:k_maqpon } 
		}
		
		if = {
			limit = {
				game_start_date >= 760.1.1
			}
			
			title:d_pamir = { set_de_jure_liege_title = title:k_gilgit } 
		}
		
		#Shan States
		if = {
			limit = {
				game_start_date >= 760.1.1
			}
			
			title:c_mongkawng = { set_de_jure_liege_title = title:d_mongkawng } 
			title:c_mongyang = { set_de_jure_liege_title = title:d_mongkawng } 
			title:c_hkamti = { set_de_jure_liege_title = title:d_mongkawng } 
		}
		
		if = {
			limit = {
				game_start_date >= 1110.1.1
			}
			
			title:d_mang_shuea = { set_de_jure_liege_title = title:k_mong_mao } 
			title:c_bhamo = { set_de_jure_liege_title = title:d_mang_shuea } 
		}
		
		#Some de jure changes to keep the Delhi Sultanate from conquering Nepal and Kashmir and keep Tibet in 769 from conquering into India
		if = {
				limit = {
					game_start_date >= 769.1.14
					
				}
				title:k_himalaya = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				title:k_kashmir = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				title:k_lhomon = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				
				title:d_trigarta = { set_de_jure_liege_title = title:k_kangra } 
				title:d_kurmanchal = { set_de_jure_liege_title = title:k_chand } 
				title:d_nepal = { set_de_jure_liege_title = title:k_khas_malla }
				title:d_khasa = { set_de_jure_liege_title = title:k_khas_malla }
				title:d_limbuwan = { set_de_jure_liege_title = title:k_limbuwan }
				
				title:k_kangra = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				title:k_chand = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				title:k_doti = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				title:k_khas_malla = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				title:k_limbuwan = { set_de_jure_liege_title = title:e_null_empire_himalayas }
				
		}
		
		if = {
			limit = {
				game_start_date >= 766.1.1
			}
			
			title:d_dagar = { set_de_jure_liege_title = title:k_loeu } 
			title:d_ban_lung = { set_de_jure_liege_title = title:k_loeu } 
			title:d_sekong = { set_de_jure_liege_title = title:k_loeu } 
		}
	
		
	######################################################################################################################################################################################
		
		
	########################################################################################### CULTURES ###########################################################################################
		
		culture:old_saxon = {
			set_heritage_from = culture:saxon
			set_language_from = culture:saxon
		}
		culture:ilmenian = {
			set_name_list = name_list_old_east_slavic
		}
		culture:severian = {
			set_name_list = name_list_old_east_slavic
		}
		culture:volhynian = {
			set_name_list = name_list_old_east_slavic
		}
		#culture:mon = {
		#	set_culture_pillar = language_mon
		#}
		#culture:khitan = {
		#	set_culture_pillar = language_xianbei
		#}
		#culture:tuyuhun = {
		#	set_culture_pillar = language_xianbei
		#}
		
		culture:uyghur = {
			set_culture_pillar = language_siberian_turkic
		}
	
		if = {
			limit = {
				game_start_date >= 1300.1.1
			}
		
			culture:azeri = {
				set_language_from = culture:turkish
			}
		}
		
		if = {
			limit = {
				game_start_date >= 1005.1.1
			}
		
			culture:geat = {
				set_name_list = name_list_geatish 
			}
		}
		
		culture:kimek = {
			change_cultural_acceptance = {
				target = culture:kipchak
				value = 50
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:hindustani_proper = {
			change_cultural_acceptance = {
				target = culture:hindustani
				value = 50
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:gothic = {
			change_cultural_acceptance = {
				target = culture:greek
				value = 30
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:russian = {
			change_cultural_acceptance = {
				target = culture:belocroat
				value = 50
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:tajik = {
			change_cultural_acceptance = {
				target = culture:persian
				value = 70
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:baloch = {
			change_cultural_acceptance = {
				target = culture:sindhi
				value = 10
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:arberian = {
			change_cultural_acceptance = {
				target = culture:serbian
				value = 15
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:gothic = {
			change_cultural_acceptance = {
				target = culture:greek
				value = 30
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:chagatai = {
			change_cultural_acceptance = {
				target = culture:khamag
				value = 30
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:khamag = {
			change_cultural_acceptance = {
				target = culture:chagatai
				value = 30
				desc = cultural_acceptance_historical_relations
			}
		}
		if = {
			limit = {
				game_start_date = 1140.1.1
			}
			culture:han = {
				change_cultural_acceptance = {
					target = culture:jurchen
					value = 20
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:jurchen = {
				change_cultural_acceptance = {
					target = culture:han
					value = 20
					desc = cultural_acceptance_historical_relations
				}
			}
		}
		if = {
			limit = {
				game_start_date = 1337.1.1
			}
			culture:dalmatian_ce = {
				change_cultural_acceptance = {
					target = culture:croatian
					value = 20
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:arberian = {
				change_cultural_acceptance = {
					target = culture:sicilian
					value = 15
					desc = cultural_acceptance_historical_relations
				}
			}
		}
		if = {
			limit = {
				exists = title:k_italy.holder
				has_dlc_feature = royal_court
			}
			title:k_italy.holder = {
				create_artifact_pedestal_crown_iron_effect = { OWNER = title:k_italy.holder }
			}
		}
	
		#every_living_character = {
		#	limit = {
		#		culture = culture:mon
		#	}
		#	unlearn_language = language_burmese
		#	learn_language = language_mon
		#}
		#every_living_character = {
		#	limit = {
		#		OR = {
		#			culture = culture:khitan
		#			culture = culture:tuyuhun
		#		}
		#	}
		#	unlearn_language = language_mongolmongolic
		#	learn_language = language_xianbei
		#}
		every_living_character = {
			limit = {
				culture = culture:old_saxon
			}
			unlearn_language = language_anglic
			learn_language = language_saxon
		}
		every_living_character = {
			limit = {
				OR = {
					dynasty = dynasty:7276
					dynasty = dynasty:7277
					dynasty = dynasty:101732
					dynasty = dynasty:101875
					
					dynasty = dynasty:762
					dynasty = dynasty:7272
					dynasty = dynasty:7271
					dynasty = dynasty:7270
					dynasty = dynasty:7267
					dynasty = dynasty:7269
					dynasty = dynasty:7268
				}
			}
			learn_language = language_arabic
		}
		every_living_character = {
			limit = {
				OR = {
					dynasty = dynasty:762
					dynasty = dynasty:7272
					dynasty = dynasty:7271
					dynasty = dynasty:7270
					dynasty = dynasty:7267
					dynasty = dynasty:7269
					dynasty = dynasty:7268
				}
			}
			learn_language = language_egyptian
		}
		every_living_character = {
			limit = {
				house = house:house_Plant
			}
			learn_language = language_french
		}
		every_living_character = {
			limit = {
				house = house:house_anjou_hongrie
			}
			learn_language = language_magyar
		}
		every_living_character = {
			limit = {
				dynasty = dynasty:1000102400
				NOT = { house = house:house_quglugh }
			}
			learn_language = language_chinese
		}
		culture:egyptian_coptic = {
			change_cultural_acceptance = {
				target = culture:egyptian
				value = 20
				desc = cultural_acceptance_historical_relations
			}
		}
		every_living_character = {
			limit = {
				house = house:house_Bagrationi
			}
			learn_language = language_greek
		}
		
		
		#Overwrite RICE/other mod changes
		
		title:c_socotra = {
			set_county_culture = culture:soqotri
		}	
		
		if = {
			limit = {
				game_start_date > 867.1.1
			}
			
			title:c_ghazna = {
				set_county_culture = culture:afghan
			}	
			title:c_zabulistan = {
				set_county_culture = culture:khalaj
			}	
			title:c_zamindawar = {
				set_county_culture = culture:khalaj
			}	
			title:c_bost = {
				set_county_culture = culture:khalaj
			}	
			title:c_wasit = {
				set_county_culture = culture:mandaic
			}	
			title:c_tib = {
				set_county_culture = culture:mandaic
			}	
			title:c_east-tokharestan = {
				set_county_culture = culture:tajik
			}	
			title:c_west-tokharestan = {
				set_county_culture = culture:tajik
			}	
			title:c_turan = {
				set_county_culture = culture:brahui
			}
			title:c_sibi = {
				set_county_culture = culture:brahui
			}			
		}

		if = {
			limit = {
				game_start_date > 1250.1.1
			}
			
			title:c_zaila = {
				set_county_culture = culture:harar
			}	
			title:c_dakkar = {
				set_county_culture = culture:harar
			}	
			title:c_harar = {
				set_county_culture = culture:harar
			}		
		}
		if = {
			limit = {
				title:c_socotra.holder = {
					highest_held_title_tier = tier_duchy
					culture = { has_cultural_pillar = heritage_arabic }
				}
			}
			title:c_socotra.holder = {
				make_socotra_culture_effect = yes
			}
		}	
		
		#Heritages
		
		culture:alan = {
			set_culture_pillar = heritage_iranian
		}
	
		#Traditions

		culture:severian = { add_culture_tradition = tradition_agrarian }
		culture:severian = { add_culture_tradition = tradition_polygamous }
		
		#Innovations - Mainly diverged cultures that you don't want to use a Heritage tag for ie:heritage_iberian not covering an andalusian derived iqritis 
		#A lot of this is just to clean up the /history/cultures folder from having so many files that all have the same exact thing and in turn meaning I need to edit less files
		
		
		# Scopes
		culture:andalusian = { save_scope_as = andalusian }
		culture:croatian = { save_scope_as = croatian }
		culture:occitan = { save_scope_as = occitan }
		culture:french = { save_scope_as = french }
		culture:anglo_saxon = { save_scope_as = anglo_saxon }
		culture:polish = { save_scope_as = polish }
		culture:saxon = { save_scope_as = saxon }
		culture:bengali = { save_scope_as = bengali }
		culture:senufo = { save_scope_as = senufo }
		culture:polabian = { save_scope_as = polabian }
		culture:egyptian = { save_scope_as = egyptian }
		culture:vepsian = { save_scope_as = vepsian }
		culture:daylamite = { save_scope_as = daylamite }
		culture:bjarmian = { save_scope_as = bjarmian }
		culture:norwegian = { save_scope_as = norwegian }
		culture:sicilian = { save_scope_as = sicilian }
		culture:welsh = { save_scope_as = welsh }
		culture:english = { save_scope_as = english }
		culture:danish = { save_scope_as = danish }
		culture:franconian = { save_scope_as = franconian }
		culture:dutch = { save_scope_as = dutch }
		culture:swabian = { save_scope_as = swabian }
		culture:cisalpine = { save_scope_as = cisalpine }
		culture:italian = { save_scope_as = italian }
		culture:russian = { save_scope_as = russian }
		
		culture:aramean = { save_scope_as = aramean }

		#BAP
		culture:akan = { save_scope_as = akan }
		culture:gaw = { save_scope_as = gaw }
		culture:ethiopian = { save_scope_as = ethiopian }
		culture:sidama = { save_scope_as = sidama }
		culture:daju = { save_scope_as = daju }
	
		
		culture:mandaic = {
			get_all_innovations_from = scope:aramean
		}
		
		culture:iqritis = {
			get_all_innovations_from = scope:andalusian
		}
		culture:slavonian = {
			get_all_innovations_from = scope:croatian
		}
		culture:arpitan = {
			get_all_innovations_from = scope:occitan
		}
		culture:provencal = {
			get_all_innovations_from = scope:occitan
		}
		culture:gascon = {
			get_all_innovations_from = scope:occitan
		}
		culture:angevin = {
			get_all_innovations_from = scope:french
		}
		culture:burgundian_oil = {
			get_all_innovations_from = scope:french
		}
		culture:poitevin = {
			get_all_innovations_from = scope:french
		}
		culture:picard = {
			get_all_innovations_from = scope:french
		}
		culture:walloon = {
			get_all_innovations_from = scope:french
		}
		culture:lorrainian = {
			get_all_innovations_from = scope:french
		}
		culture:anglo_norse = {
			get_all_innovations_from = scope:anglo_saxon
		}
		culture:kentish = {
			get_all_innovations_from = scope:anglo_saxon
		}
		culture:mercian = {
			get_all_innovations_from = scope:anglo_saxon
		}
		culture:northumbrian = {
			get_all_innovations_from = scope:anglo_saxon
		}
		culture:east_anglian = {
			get_all_innovations_from = scope:anglo_saxon
		}
		culture:west_saxon = {
			get_all_innovations_from = scope:anglo_saxon
		}
		culture:masovian = {
			get_all_innovations_from = scope:polish
		}
		culture:polans = {
			get_all_innovations_from = scope:polish
		}
		culture:opolan = {
			get_all_innovations_from = scope:polish
		}
		culture:vistulan = {
			get_all_innovations_from = scope:polish
		}
		culture:silesian = {
			get_all_innovations_from = scope:polish
		}
		culture:golensizi = {
			get_all_innovations_from = scope:polish
		}
		culture:lendian = {
			get_all_innovations_from = scope:polish
		}
		culture:dravehnian = {
			get_all_innovations_from = scope:polish
		}
		culture:old_saxon = {
			get_all_innovations_from = scope:saxon
		}
		culture:east_elbian = {
			get_all_innovations_from = scope:saxon
		}
		culture:westphalian = {
			get_all_innovations_from = scope:saxon
		}
		culture:assamese = {
			get_all_innovations_from = scope:bengali
		}
		culture:lutici = {
			get_all_innovations_from = scope:polabian
		}
		culture:sorbian = {
			get_all_innovations_from = scope:polabian
		}
		culture:obotrite = {
			get_all_innovations_from = scope:polabian
		}
		culture:egyptian_coptic = {
			get_all_innovations_from = scope:egyptian
		}
		culture:sami = {
			get_all_innovations_from = scope:vepsian
		}
		culture:gilani = {
			get_all_innovations_from = scope:daylamite
		}
		culture:karelian = {
			get_all_innovations_from = scope:bjarmian
		}
		culture:norse = {
			get_all_innovations_from = scope:norwegian
		}
		culture:neapolitan = {
			get_all_innovations_from = scope:sicilian
		}
		culture:breton = {
			get_all_innovations_from = scope:welsh
		}
		culture:cornish = {
			get_all_innovations_from = scope:welsh
		}
		culture:northerner = {
			get_all_innovations_from = scope:english
		}
		culture:scanian = {
			get_all_innovations_from = scope:danish
		}
		culture:flemish = {
			get_all_innovations_from = scope:dutch
		}
		culture:frisian = {
			get_all_innovations_from = scope:dutch
		}
		culture:brabantian = {
			get_all_innovations_from = scope:franconian
		}
		culture:thuringian = {
			get_all_innovations_from = scope:franconian
		}
		culture:high_alemannic = {
			get_all_innovations_from = scope:swabian
		}
		culture:alsatian = {
			get_all_innovations_from = scope:swabian
		}
		culture:emilian = {
			get_all_innovations_from = scope:cisalpine
		}
		culture:romagnol = {
			get_all_innovations_from = scope:cisalpine
		}
		culture:venetian_ce = {
			get_all_innovations_from = scope:cisalpine
		}
		culture:ligurian = {
			get_all_innovations_from = scope:italian
		}
		culture:tuscan_ce = {
			get_all_innovations_from = scope:italian
		}
		culture:romagnol = {
			get_all_innovations_from = scope:italian
		}
		culture:belocroat = {
			get_all_innovations_from = scope:russian
		}

		###BAP Stuff###
		
		##Cultural innovation inheritance
		
		# Innovations
		culture:argobba = {
			get_all_innovations_from = scope:ethiopian
		}
		culture:agaw = {
			get_all_innovations_from = scope:ethiopian
		}
		culture:tigray = {
			get_all_innovations_from = scope:ethiopian
		}
		culture:harla = {
			get_all_innovations_from = scope:ethiopian
		}
		culture:oromo = {
			get_all_innovations_from = scope:sidama
		}
		culture:maban = {
			get_all_innovations_from = scope:daju
		}
		culture:fur = {
			get_all_innovations_from = scope:daju
		}
		culture:nuba = {
			get_all_innovations_from = scope:daju
		}
		culture:dinka = {
			get_all_innovations_from = scope:daju
		}
		culture:kwama = {
			get_all_innovations_from = scope:daju
		}
		culture:berta = {
			get_all_innovations_from = scope:daju
		}	
		
		##Cultural innovation inheritance

		
		# Innovations
		culture:kibsi = {
			get_all_innovations_from = scope:akan
		}
		culture:lilse = {
			get_all_innovations_from = scope:akan
		}
		culture:senufo = {
			get_all_innovations_from = scope:akan
		}
		culture:konkomba = {
			get_all_innovations_from = scope:akan
		}
		culture:gur = {
			get_all_innovations_from = scope:akan
		}
		culture:kurumba = {
			get_all_innovations_from = scope:akan
		}
		culture:zarma = {
			get_all_innovations_from = scope:akan
		}
		culture:kulango = {
			get_all_innovations_from = scope:akan
		}
		culture:tuareg = {
			get_all_innovations_from = scope:gaw
		}
	
		#Set RICE innovations when RICE is loaded
		if = {
			limit = {
				has_global_variable = is_RICE_loaded_global_variable
			}
			culture:syriac = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:iraqi = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:madan = {
				add_innovation = innovation_RICE_qanats		
			}
			
			culture:luri = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:aschomi = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:semnani = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:mazandarani = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:hazara = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:turkmeni = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:qufs = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:brahui = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:khalaj = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:pamiri = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:nuristani = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:bahraini = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:omani = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:south_arabian = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:hadhrami = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:hejazi = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:saidi = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:libyan = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:masmuda = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:maltese = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:chagatai = {
				add_innovation = innovation_RICE_qanats		
			}
			culture:talysh = {
				add_innovation = innovation_RICE_qanats		
			}
			
			culture:afghan = {
				add_innovation = innovation_RICE_irrigation_tanks		
			}
			culture:kachari = {
				add_innovation = innovation_RICE_irrigation_tanks		
			}
			culture:tripuri = {
				add_innovation = innovation_RICE_irrigation_tanks		
			}
			culture:ahom = {
				add_innovation = innovation_RICE_irrigation_tanks		
			}
			culture:kochinim = {
				add_innovation = innovation_RICE_irrigation_tanks		
			}
			culture:hindustani_proper = {
				add_innovation = innovation_RICE_irrigation_tanks		
			}
			
			culture:komi = {
				add_innovation = innovation_RICE_dog_sleds		
			}
			culture:udmurt = {
				add_innovation = innovation_RICE_dog_sleds		
			}
			culture:gilyak = {
				add_innovation = innovation_RICE_dog_sleds		
			}
			
			culture:kannada = {
				add_innovation = innovation_RICE_velakkara_guards		
			}
			culture:malayali = {
				add_innovation = innovation_RICE_velakkara_guards		
			}
			culture:kochinim = {
				add_innovation = innovation_RICE_velakkara_guards		
			}
			
			culture:gallo_f = { add_culture_tradition = bao_tradition_breizh_collective_lands }	
			
			culture:egyptian_coptic = { add_culture_tradition = tradition_RICE_children_of_the_nile }				
			culture:saidi = { add_culture_tradition = tradition_RICE_children_of_the_nile }		

			culture:obotrite = {
				add_culture_tradition = tradition_RICE_wendish_confederations
				remove_variable = tradition_cooldown
			}
			culture:dravehnian = {
				add_culture_tradition = tradition_RICE_wendish_confederations
				remove_variable = tradition_cooldown
			}
			culture:ranian = {
				add_culture_tradition = tradition_RICE_wendish_confederations
				remove_variable = tradition_cooldown
			}
			culture:lutici = {
				add_culture_tradition = tradition_RICE_wendish_confederations
				remove_variable = tradition_cooldown
			}			
			
		
		}
		## Coptic for Coptic priests
		every_living_character = { 
			limit = { 
				OR = {
					is_clergy = yes
					learning >= 20
				}
				OR = {
					has_faith = faith:ethiopian_orthodox
					has_faith = faith:nubian_orthodox
					has_faith = faith:coptic
				}
				NOT = { 
					knows_language = language_coptic
				}
			} 
			learn_language = language_coptic
		}
		
		#Doctrine changes for Coptic
		faith:coptic = {
			if = {
				limit = { has_doctrine = doctrine_consanguinity_aunt_nephew_and_uncle_niece }
				remove_doctrine = doctrine_consanguinity_aunt_nephew_and_uncle_niece
				add_doctrine = doctrine_consanguinity_restricted
			}
		}
		
		## Greek for highly educated nubians likely to or potential to serve in the church or bureaucracy
		every_living_character = { 
			limit = { 
				OR = {
					learning >= 20
					has_trait = scholar
					has_trait = theologian
					has_trait = education_intrigue_4
					has_trait = education_diplomacy_4
					has_trait = education_stewardship_4
					has_trait = education_learning_4
					has_trait = diplomat
					has_trait = intellect_good_3
					has_trait = administrator
				}
				has_culture = culture:nubian
				NOT = { 
					knows_language = language_greek
				}
			} 
			learn_language = language_greek
		}
		
		every_living_character = { 
			limit = { 
				OR = {
					is_clergy = yes
					learning >= 20
				}
				OR = {
					has_faith = faith:catholic 
					has_faith = faith:bosnian_church
					has_faith = faith:insular_celtic
					has_faith = faith:mozarabic_church
				}
				NOT = { 
					knows_language = language_latin 
				}
			} 
			learn_language = language_latin 
		}
		

	########################################################################################### DYNASTY CULTURES/RELIGIONS ###########################################################################################
		
		
		#For setting dynasties to the new cultures that exist in later bookmarks
		#If you set a parent house to get a culture that's different then a cadet branch then make sure that the parent houses culture is set BEFORE the cadets
		
		#Note on religions. The game sets religious titles prior to this so dynasties that hold a HoF title need their religion manually set no matter what or the HoF title is destroyed
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_von_der_marck
					house = house:house_cleve
					dynasty = dynasty:7168
					dynasty = dynasty:12462
					dynasty = dynasty:7126
					dynasty = dynasty:432
				}
			}
			set_culture = culture:westphalian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:7154
					dynasty = dynasty:101893
				}
			}
			set_culture = culture:german_pommeranian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:177
					dynasty = dynasty:7163
				}
			}
			set_culture = culture:kashubian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:1000103324
					dynasty = dynasty:1000103714
					dynasty = dynasty:226
					house = house:house_anhalt
				}
			}
			set_culture = culture:east_elbian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_silesia #Maybe questionable to make the Silesian Piasts this but then again they were the ones that ended up under the HRE and the only nobility that ever hold Silesia for almost the entire game and into EU4's time period
				}
			}
			set_culture = culture:german_silesian 
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:88
					dynasty = dynasty:101558
					house = house:house_baden
					house = house:house_leining
				}
			}
			set_culture = culture:alsatian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:12447
					dynasty = dynasty:101718
					dynasty = dynasty:100245
					dynasty = dynasty:7257
					house = house:house_habsurg
					house = house:house_hupoldinger
				}
			}
			set_culture = culture:high_alemannic
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:1000035155
					dynasty = dynasty:13059
					dynasty = dynasty:1000020094
					dynasty = dynasty:13068
					dynasty = dynasty:1042027
					dynasty = dynasty:1000020115
					dynasty = dynasty:101851
				}
			}
			set_culture = culture:romagnol
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_este
					dynasty = dynasty:1000020105
					dynasty = dynasty:101841
					dynasty = dynasty:1000035411
					house = house:house_canossa
					dynasty = dynasty:101820
					dynasty = dynasty:13064
					dynasty = dynasty:8726
					dynasty = dynasty:1000020071
					dynasty = dynasty:1000020081
					dynasty = dynasty:1000020076
				}
			}
			set_culture = culture:emilian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_vasto
					dynasty = dynasty:206
					dynasty = dynasty:1000035309
					dynasty = dynasty:1000035413
					dynasty = dynasty:1000035412
					dynasty = dynasty:1000035324
					dynasty = dynasty:1000020087
					dynasty = dynasty:1000035311
				}
			}
			set_culture = culture:piedmontese
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_cinarca
					house = house:house_cozzi
					dynasty = dynasty:1000036007
				}
			}
			set_culture = culture:corsican
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_megas_komnenos
					dynasty = dynasty:634
					dynasty = dynasty:101274
				}
			}
			set_culture = culture:pontic
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:7335
				}
			}
			set_culture = culture:luri
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:1042081
					dynasty = dynasty:1044390
				}
			}
			set_culture = culture:harauti
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:1042091
					dynasty = dynasty:1044391
					house = house:house_ChahamanasofJalor
					house = house:house_ChauhanofSatyapura
					house = house:house_ChauhanofSirohi
				}
			}
			set_culture = culture:marwari
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:1042079
					house = house:house_sisodia
				}
			}
			set_culture = culture:mewari
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					dynasty = dynasty:1044383
					dynasty = dynasty:1044382
				}
			}
			set_culture = culture:dhundari
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1250.1.1
				OR = {
					house = house:house_ChahamanaofDadrewa
				}
			}
			set_culture = culture:ahirwati
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1170.1.1
				OR = {
					dynasty = dynasty:1000027683
					dynasty = dynasty:1000027675
					dynasty = dynasty:taid021
					dynasty = dynasty:1000027686
					dynasty = dynasty:1000027686
				}
			}
			set_culture = culture:lao
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1280.1.1
				OR = {
					dynasty = dynasty:1000028222
					dynasty = dynasty:1000027680
				}
			}
			set_culture = culture:lanna
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1330.1.1
				culture = {
					has_cultural_pillar = heritage_east_slavic
				}

				any_realm_county = {
					any_county_province = { geographical_region = custom_ruthenian_culture }
				}
			}
			set_culture = culture:ruthenian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1330.1.1
				culture = {
					has_cultural_pillar = heritage_east_slavic
				}

				any_realm_county = {
					any_county_province = { geographical_region = custom_greatrus_culture }
				}
			}
			set_culture = culture:great_russian
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1150.1.1
				culture = {
					has_cultural_pillar = heritage_turkic
				}

				any_realm_county = {
					any_county_province = { geographical_region = ghw_region_anatolia }
				}
			}
			set_culture = culture:anatolian_turkish
		}
		
		every_living_character = {
			limit = {
				game_start_date > 1150.1.1
				OR = {
					dynasty = dynasty:762
				}
			}
			set_culture = culture:kipchak
		}
		
		#Asia
		
		#Korean Dynasties
		
		every_living_character = {
			limit = {
				game_start_date > 1090.1.1
				OR = {
					dynasty = dynasty:1000062009
					dynasty = dynasty:1000062005
					dynasty = dynasty:1000062003
				}
			}
			set_character_faith = faith:zenzong
		}
		every_living_character = {
			limit = {
				game_start_date > 1090.1.1
				OR = {
					dynasty = dynasty:1000062027
				}
			}
			set_character_faith = faith:kegon
		}
		
		
		#Xi Xia
		
		every_living_character = {
			limit = {
				game_start_date > 1015.1.1
				OR = {
					house = house:house_weiming
					house = house:house_khon
				}
			}
			set_character_faith = faith:sakya
		}
		#Sakya Trizin
		every_living_character = {
			limit = {
				game_start_date > 1080.1.1
				OR = {
					house = house:house_khon
					dynasty = dynasty:2003056
					dynasty = dynasty:2003057
					dynasty = dynasty:2003052
					dynasty = dynasty:105834
					dynasty = dynasty:2003060
					dynasty = dynasty:2003053
					dynasty = dynasty:2003061
				}
			}
			set_character_faith = faith:sakya
		}
		
		#Xia
		
		every_living_character = {
			limit = {
				game_start_date > 1100.1.1
				OR = {
					dynasty = dynasty:2003100
					dynasty = dynasty:2003108
					dynasty = dynasty:2003119
					dynasty = dynasty:2003113
					
				
				}
			}
			set_character_faith = faith:sakya
		}
		
		#Kagyu
		
		every_living_character = {
			limit = {
				game_start_date > 1100.1.1
				OR = {
					dynasty = dynasty:2003068
					
					dynasty = dynasty:2003026
					dynasty = dynasty:2003073
					house = house:house_boyul
					house = house:house_pemako
					dynasty = dynasty:2003021
					dynasty = dynasty:2003022
					dynasty = dynasty:2003023
					dynasty = dynasty:2003020
					dynasty = dynasty:2003056
					dynasty = dynasty:2003090
					dynasty = dynasty:2003066
					dynasty = dynasty:2003067
					dynasty = dynasty:105804
					dynasty = dynasty:2003007
				}
			}
			set_character_faith = faith:kagyu
		}
		
		#Gelug
		every_living_character = {
			limit = {
				game_start_date > 1100.1.1
				OR = {
					dynasty = dynasty:2003070
					
				}
			}
			set_character_faith = faith:gelug
		}
		
		#Saura
		every_living_character = {
			limit = {
				game_start_date > 1100.1.1
				NOT = {
						has_title = title:k_lanka
					}
					
				dynasty = dynasty:1029195
			}
			set_character_faith = faith:saura
		}
		
		#Murder characters that shouldn't exist
		every_living_character = {
			limit = {
				age > 100
			}
			death = {
				death_reason = death_natural_causes
			}
		}

		
	########################################################################################### RELIGIONS AND CULTURES ###########################################################################################
		
		
		#Convert all the Slavic counties to separate faiths
		#To basically handle the one area where there'd be meaningful compatibility issues with 'Children of Perun'
		every_county = {
			#East
			if = {
				limit = {
					culture = {
						OR = {
							has_cultural_pillar = heritage_east_slavic
							has_cultural_pillar = heritage_north_germanic #To convert counties where Nordic rulers are
							has_cultural_pillar = heritage_magyar
							has_cultural_pillar = heritage_baltic
							has_cultural_pillar = heritage_iranian
							has_cultural_pillar = heritage_volga_finnic
						}
					}
					religion = religion:slavic_religion
				}
				set_county_faith = faith:slavic_east
			}
			#South
			if = {
				limit = {
					culture = {
						OR = {
							has_cultural_pillar = heritage_south_slavic
							has_cultural_pillar = heritage_vlach
						}
					}
					religion = religion:slavic_religion
				}
				set_county_faith = faith:slavic_south
			}
			#West
			if = {
				limit = {
					culture = { has_cultural_pillar = heritage_west_slavic }
					religion = religion:slavic_religion
				}
				set_county_faith = faith:slavic_west
			}
		}
		faith:slavic_pagan = {
			#Do the same for characters. Need more cultures for various weird courtiers
			every_faith_character = {
				#East
				if = {
					limit = {
						culture = {
							OR = {
								has_cultural_pillar = heritage_east_slavic
								has_cultural_pillar = heritage_volga_finnic
								has_cultural_pillar = heritage_north_germanic
							}
						}
					}
					set_character_faith = faith:slavic_east
				}
				#South
				if = {
					limit = {
						culture = {
							OR = {
								has_cultural_pillar = heritage_south_slavic
								has_cultural_pillar = heritage_turkic
								has_cultural_pillar = heritage_vlach
							}
						}
					}
					set_character_faith = faith:slavic_south
				}
				#West
				if = {
					limit = {
						culture = { has_cultural_pillar = heritage_west_slavic }
					}
					set_character_faith = faith:slavic_west
				}
			}
		}
		
		#Serbian Orthodox
		faith:orthodox = {
			every_faith_character = {
				if = {
					limit = {
						game_start_date >= 1219.1.1
						culture = {
							OR = {
								has_cultural_pillar = language_south_slavic
							}
						}
					}
					set_character_faith = faith:serbian_orthodox
				}

			}
		}
		
		#Patriarchs of Aquileia 
		faith:catholic = {
			every_faith_character = {
				if = {
					limit = {
						has_title = title:c_aquileia
					}
					set_character_faith = faith:aquileian_church
				}

			}
		}
		
		#Eryas
		
		faith:mordvin_pagan = {
			every_faith_character = {
				if = {
					limit = {
						has_title = title:d_khopyor
					}
					set_character_faith = faith:erzya_pagan
				}

			}
		}
		
		#Moksha 
		
		faith:mordvin_pagan = {
			every_faith_character = {
				if = {
					limit = {
						has_title = title:d_mordvinia
					}
					set_character_faith = faith:moksha_pagan
				}

			}
		}

	########################################################################################### REMOVE SPECIAL BUILDINGS SETUP ###########################################################################################
		
		if = {
			limit = {
				game_start_date > 1258.1.1
			}
			province:4828 = {
				remove_building = house_of_wisdom_01
			}
		}

	########################################################################################### BUILDINGS ###########################################################################################
		
		#BAP Stuff
		
		## k_nubia
		if = {
			limit = {
				title:b_aswan = {
					title_province = { has_special_building = no }
				}
			}
			title:b_aswan.title_province = {
				add_special_building = wap_temple_of_philae_01
			}
		}
		if = {
			limit = {
				title:b_old_dongola = {
					title_province = { has_special_building = no }
				}
			}
			title:b_old_dongola.title_province = {
				add_special_building = wap_fortress_of_dongola_01
			}
		}
		if = {
			limit = {
				title:b_abu_hammad = {
					title_province = { has_special_building = no }
				}
			}
			title:b_abu_hammad.title_province = {
				add_special_building = wap_gold_mines_01
			}
		}
		if = {
			limit = {
				title:b_shunqayr = {
					title_province = { has_special_building = no }
				}
			}
			title:b_shunqayr.title_province = {
				add_special_building_slot = wap_gold_mines_01
			}
		}
		if = {
			limit = {
				title:b_al-ghazali = {
					title_province = { has_special_building = no }
				}
			}
			title:b_al-ghazali.title_province = {
				add_special_building = wap_ghazali_monastery_01
			}
		}
		if = {
			limit = {
				title:b_naga = {
					title_province = { has_special_building = no }
				}
			}
			title:b_naga.title_province = {
				add_special_building = wap_temple_of_apedemak_01
			}
		}
		if = {
			limit = {
				title:b_fazughli = {
					title_province = { has_special_building = no }
				}
			}
			title:b_fazughli.title_province = {
				add_special_building = wap_gold_mines_01
			}
		}
		if = {
			limit = {
				title:b_faras = {
					title_province = { has_special_building = no }
				}
			}
			title:b_faras.title_province = {
				add_special_building = wap_cathedral_of_our_lady_01
			}
		}
		if = {
			limit = {
				title:b_qasr_ibrim = {
					title_province = { has_special_building = no }
				}
			}
			title:b_qasr_ibrim.title_province = {
				add_special_building = wap_st_marys_cathedral_01
			}
		}
		if = {
			limit = {
				title:b_nuri = {
					title_province = { has_special_building = no }
				}
			}
			title:b_nuri.title_province = {
				add_special_building = wap_pyramids_at_nuri_01
			}
		}
		if = {
			limit = {
				title:b_kareima = {
					title_province = { has_special_building = no }
				}
			}
			title:b_kareima.title_province = {
				add_special_building = wap_temple_of_amun_01
			}
		}
		
		### b_allaqi gold mine - now in vanilla
		
		if = {
			limit = {
				title:b_khawr_nubt = {
					title_province = { has_special_building = no }
				}
			}
			title:b_khawr_nubt.title_province = {
				add_special_building_slot = wap_gold_mines_01
			}
		}
		
		#Ethiopia and the Horn
	
		if = {
			limit = {
				title:b_zaila = {
					title_province = { has_special_building = no }
				}
			}
			title:b_zaila.title_province = {
				add_special_building_slot = wap_masjid_al_qiblatayn_01
			}
		}
		
		#if = {
		#	limit = {
		#		title:b_marka = { #Should be in b_mogadishu but CK3 doesn't allow multiple special buildings
		#			title_province = { has_special_building_slot = no }
		#		}
		#	}
		#	title:b_marka.title_province = {
		#		add_special_building_slot = wap_masjid_fakhr_ad_din_01
		#	}
		#}
		if = {
			limit = {
				title:b_aksum = {
					title_province = { has_special_building = no }
				}
			}
			title:b_aksum.title_province = {
				add_special_building = wap_church_of_our_lady_mary_of_zion_01
			}
		}
		if = {
			limit = {
				title:b_lalibela = {
					title_province = { has_special_building = no }
				}
			}
			title:b_lalibela.title_province = {
				add_special_building_slot = wap_rockhewn_church_01
			}
		}
		title:b_shimazana.title_province = {
			set_holding_type = church_holding
		}
		if = {
			limit = {
				title:b_shimazana = {
					title_province = { has_special_building = no }
				}
			}
			title:b_shimazana.title_province = {
				add_special_building = wap_dabra_dammo_01
			}
		}
	
		
		## k_akan
		if = {
			limit = {
				title:b_aowin = {
					title_province = { has_special_building = no }
				}
			}
			title:b_aowin.title_province = {
				add_special_building_slot = wap_gold_mines_01
			}
		}
		if = {
			limit = {
				title:b_bonduku = {
					title_province = { has_special_building = no }
				}
			}
			title:b_bonduku.title_province = {
				add_special_building_slot = wap_gold_mines_01
			}
		}
		if = {
			limit = {
				title:b_tarkwa = {
					title_province = { has_special_building = no }
				}
			}
			title:b_tarkwa.title_province = {
				add_special_building_slot = wap_gold_mines_01
			}
		}
		#k_ghana
		if = {
			limit = {
				title:b_al-ghaba = {
					title_province = { has_special_building = no }
				}
			}
			title:b_al-ghaba.title_province = {
				add_special_building = wap_palace_of_al_ghaba_01
			}
		}
		title:b_kumbi.title_province = {
			set_holding_type = church_holding
		}
		if = {
			limit = {
				title:b_kumbi = {
					title_province = { has_special_building = no }
				}
			}
			title:b_kumbi.title_province = {
				add_special_building = wap_cavern_of_bida_01
			}
		}
		if = {
			limit = {
				title:b_tichitt = {
					title_province = { has_special_building = no }
				}
			}
			title:b_tichitt.title_province = {
				add_special_building_slot = wap_dhar_tichitt_01
			}
		}
		#k_gao
		title:b_gao = {
			title_province = {
				if = {
					limit = {
						current_date >= 800.1.1
						current_date < 1066.1.1
					}
					add_special_building_slot = wap_palace_of_gao_01
				}
				else_if = {
					limit = {
						current_date >= 1066.1.1			
					}
					add_special_building = wap_palace_of_gao_01
				}
			}
		}
		
		#senegambia
			title:b_badibu.title_province = { 
				add_special_building = wap_senegambian_stone_circles_01
			}
			
		#k_hausaland
			title:b_kano.title_province = { 
				add_special_building = wap_walls_of_kano_01
			}
		#k_nri
			title:b_igbo-ukwu.title_province = { 
				add_special_building = wap_bronze_industry_01
			}
		#k_benin
			title:b_edo.title_province = { 
				add_special_building_slot = wap_bronze_industry_01
			}
		#k_sao
			title:b_banre.title_province = { 
				add_special_building = wap_bronze_industry_01
			}
		#k_hausaland
			title:b_daura.title_province = { 
				add_special_building = wap_sarki_well_01
			}
		#k_yorubaland
			title:b_ile-ife.title_province = { 
				add_special_building = wap_oracle_of_ife_01
			}
			title:b_owu.title_province = { 
				add_special_building_slot = wap_bronze_industry_01
			}
			title:b_ijebu.title_province = { 
				add_special_building_slot = wap_sungbos_eredo_01
			}
			
		#k_kong
			title:b_loropeni.title_province = { 
				add_special_building_slot = wap_walls_of_loropeni_01
			}
		#k_sahara
			title:b_tadmekka.title_province = { 
				add_special_building = wap_salt_mine_01
			}
			
		#k_anyiba
		title:b_bilma.title_province = { 
			add_special_building = wap_salt_mine_01
		}
		#title:b_taghaza.title_province = { ###Added now by PDX
		#	add_special_building = wap_salt_mine_01
		#}
		
		#amazigh holy sites
			title:b_ahaggar.title_province = {
				set_holding_type = church_holding
			}
			if = {
				limit = {
					title:b_ahaggar = {
						title_province = { has_special_building = no }
					}
				}
				title:b_ahaggar.title_province = {
					add_special_building = wap_tomb_of_tin_hinan_01
				}
			}
			title:b_bilizma.title_province = { 
				add_special_building = wap_madghacen_01
			}
			title:b_sharshal.title_province = { 
				add_special_building = wap_mausoleum_of_juba_01
			}	
			
		#Buildings post 1200 - Something to do over time
		
		if = {
			limit = {
				game_start_date > 1200.1.1
			}
			
			
			#Castles
			
			province:1887 = {
				add_building = castle_02
			}	
			province:1806 = {
				add_building = castle_02
			}
			province:1816 = {
				add_building = castle_02
			}
			province:1754 = {
				add_building = castle_02
			}
			province:1995 = {
				add_building = castle_02
			}
			province:1855 = {
				add_building = castle_02
			}
			province:1919 = {
				add_building = castle_02
			}
			province:2214 = {
				add_building = castle_02
			}
			province:2152 = {
				add_building = castle_02
			}
			province:1665 = {
				add_building = castle_02
			}
			province:1741 = {
				add_building = castle_02
			}
			province:2092 = {
				add_building = castle_02
			}
			province:63 = {
				add_building = castle_02
			}
			province:341 = {
				add_building = castle_02
			}
			province:234 = {
				add_building = castle_02
			}
			province:527 = {
				add_building = castle_02
			}
			province:3803 = {
				add_building = castle_02
			}
			province:473 = {
				add_building = castle_02
			}
			province:678 = {
				add_building = castle_02
			}
			province:9862 = {
				add_building = castle_02
			}	
			
			
		}
		
	########################################################################################### BUILDING SLOTS ###########################################################################################
		
		#Increase building slots for some major cities//deal with errors about a holding not having enough slots for buildings its set to have in history
		
		if = {
			limit = {
				game_start_date > 866.1.1
			}
			
			title:b_napoli.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_hanau.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_marseille.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_lisboa.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_toledo.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_pamplona.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_burgos.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_winchester.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_edinburgh.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_milano.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_bologna.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_pisa.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_palermo.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_syracusa.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_praha.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_krakow.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_sighnaq.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_trebizond.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_tekor.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_tbilisi.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_tabriz.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_rayy.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_oslosyslar.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_cordoba.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_regensburg.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_linz.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_acre.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_neuss.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
		
			title:b_baghdad.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_thessaloniki.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
			
			title:b_constantinople.title_province = { 
			
				add_province_modifier = extra_building_slot
				
			}
		
		}



	}
}

set_court_languages = {
    effect = {
        if = {
            limit = { exists = title:k_nanzhao }
            title:k_nanzhao.holder = { set_court_language = language_chinese }
        }
        if = {
            limit = { exists = title:e_dai_viet }
            title:e_dai_viet.holder = { set_court_language = language_chinese }
        }
        if = {
            limit = { exists = title:k_annam }
            title:k_annam.holder = { set_court_language = language_chinese }
        }
		if = {
            limit = { exists = title:k_england game_start_date >= 1066.12.26 }
            title:k_england.holder = { set_court_language = language_french }
        }
		if = {
            limit = { exists = title:e_persia }
            title:e_persia.holder = { set_court_language = language_iranian } #Should cover any missed Iranized courts
        }
		if = {
            limit = { exists = title:k_mauretania }
            title:k_mauretania.holder = { set_court_language = language_arabic }
        }
		if = {
            limit = { exists = title:e_egypt }
            title:e_egypt.holder = { set_court_language = language_arabic }
        }
		if = {
            limit = { exists = title:e_rajastan game_start_date >= 1150.1.1 }
            title:e_rajastan.holder = { set_court_language = language_iranian } #Should cover any missed Iranized courts
        }
    }
}



holy_site_fix = {
    effect = {
        every_religion_global = {
            every_faith = {
                every_holy_site = {
                    limit = { title_province = { has_holding = no } }
                    title_province = {
                        set_holding_type = church_holding
                    }
                }
            }
        }
    }
}

succexpstartMB = {
	#Fix succession laws not being properly set
    effect = {
        every_independent_ruler = {
            limit = {
                OR = {
                    has_culture = culture:irish
                    AND = {
                        has_culture = culture:gaelic
                        game_start_date < 1005.1.1
                    }
                }
                OR = {
                    has_government = feudal_government
                    has_government = tribal_government
                }
                highest_held_title_tier >= tier_county
            }
            this.primary_title = {
                add_title_law = gaelic_elective_succession_law
            }
        }
        every_independent_ruler = {
            limit = {
                culture = { has_cultural_parameter = witenagemot_succession_enabled }
                highest_held_title_tier >= tier_kingdom
                OR = {
                    has_government = feudal_government
                    has_government = tribal_government
                }
            }
            this.primary_title = {
                add_title_law = saxon_elective_succession_law
            }
        }
        every_independent_ruler = {
            limit = {
                culture = { has_cultural_parameter = scandinavian_elective_enabled }
                highest_held_title_tier >= tier_duchy
                OR = {
                    has_government = feudal_government
                    has_government = tribal_government
                }
            }
            this.primary_title = {
                add_title_law = scandinavian_elective_succession_law
            }
        }
	}
}

#######################################
# Buddhist Canon (Borrowed and edited from RoA which borrowed from RICE). Mainly to fix stuff like Sakya, Kagyu, Gelug/Kadam, etc. being made Theravada
#######################################
dharma_setup_buddhist_canon_on_game_start = {
	effect = {
		# Mahayana
	    faith:mahayana = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
	    faith:phat_giao = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
	    faith:zenzong = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
		faith:tiantai = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
		faith:jingtu = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
		faith:kegon = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
		faith:shin = {
	        add_doctrine = rice_mahayana_canon_doctrine
	    }
		faith:sarvastivada = {
	            add_doctrine = rice_mahayana_canon_doctrine
	    }
	    # Theravada
	    faith:theravada = {
	        add_doctrine = rice_theravada_canon_doctrine
	    }
		faith:vibhajjavada = {
	        add_doctrine = rice_theravada_canon_doctrine
	    }

	    # Vajrayana
	    faith:vajrayana = {
	        add_doctrine = rice_vajrayana_canon_doctrine
	    }
	    faith:lamaism = { add_doctrine = rice_vajrayana_canon_doctrine }
	    faith:gelug = { add_doctrine = rice_vajrayana_canon_doctrine }
	    faith:sakya = { add_doctrine = rice_vajrayana_canon_doctrine }
	    faith:kagyu = { add_doctrine = rice_vajrayana_canon_doctrine }
	    faith:ari = {
	        add_doctrine = rice_vajrayana_canon_doctrine
	    }
	    faith:azhaliism = {
	        add_doctrine = rice_vajrayana_canon_doctrine
	    }
		
		faith:pudgalavada = {
	        add_doctrine = rice_pudgalavada_canon_doctrine
	    }
		
		#faith:magousaian = {
		#	add_doctrine = rice_zoroastrian_armenian_doctrine
		#}
		#faith:armaz = {
		#	add_doctrine = rice_zoroastrian_georgian_doctrine
		#}
	    # Failsafe in case other mods add in other variations of Buddhism
	    religion:buddhism_religion = {
	        every_faith = {
	            limit = {
	                NOR = {
	                    has_doctrine = rice_mahayana_canon_doctrine
	                    has_doctrine = rice_theravada_canon_doctrine
	                    has_doctrine = rice_vajrayana_canon_doctrine
	                    has_doctrine = rice_pudgalavada_canon_doctrine
	                }
	            }
	            add_doctrine = rice_theravada_canon_doctrine
	        }
	    }
    }
}

add_right_to_rule_doctrines_on_game_start = {
    effect = {
        every_religion_global = {
            ## Christian religions except insular get Divine Right
            if = {
                limit = { this = religion:christianity_religion }
                every_faith = {
                    limit = {
                        NOR = {
                            has_doctrine = doctrine_right_to_rule_material
                            has_doctrine = doctrine_right_to_rule_divine
                        }
                    }

                    if = {
                        limit = { this = faith:insular_celtic }
                        add_doctrine = doctrine_right_to_rule_material
                    }
                    else = {
                        add_doctrine = doctrine_right_to_rule_divine
                    }
                }
            }
            ## Judaism and Zoroastrianism get Divine Right
            else_if = {
                limit = {
                    OR = {
                        this = religion:judaism_religion
                        this = religion:zoroastrianism_religion
                    }
                }
                every_faith = {
                    limit = {
                        NOR = {
                            has_doctrine = doctrine_right_to_rule_material
                            has_doctrine = doctrine_right_to_rule_divine
                        }
                    }

                    add_doctrine = doctrine_right_to_rule_divine
                }
            }
            else_if = {
                limit = {
                    OR = {
                        this = religion:taoism_religion
                    }
                }
                every_faith = {
                    limit = {
                        NOR = {
                            has_doctrine = doctrine_right_to_rule_material
                            has_doctrine = doctrine_right_to_rule_divine
                        }
                    }

                    add_doctrine = doctrine_right_to_rule_divine
                }
            }
            else_if = {
                limit = {
                    OR = {
                        this = religion:hinduism_religion
                        this = religion:jainism_religion
                        this = religion:buddhism_religion
                    }
                }
                every_faith = {
                    limit = {
                        NOR = {
                            has_doctrine = doctrine_right_to_rule_material
                            has_doctrine = doctrine_right_to_rule_divine
                            has_doctrine = doctrine_right_to_rule_rajadharma
                        }
                    }

                    if = {
                        limit = { this = faith:mahayana }
                        add_doctrine = doctrine_right_to_rule_divine
                    }
                    else = {
                        add_doctrine = doctrine_right_to_rule_rajadharma
                    }
                }
            }
            ## Everyone else gets Material Right
            else = {
                every_faith = {
                    limit = {
                        NOT = { has_doctrine = unreformed_faith_doctrine }
                        NOR = {
                            has_doctrine = doctrine_right_to_rule_material
                            has_doctrine = doctrine_right_to_rule_divine
                        }
                    }

                    add_doctrine = doctrine_right_to_rule_material
                }
            }
        }
    }
}

add_syncretic_doctrines_on_game_start = {
    effect = {
        every_religion_global = {
			every_faith = {
		
            ## Syncretism Fix
				# Add True Faith
				if = {
					limit = { 
						NOR = { 
							has_doctrine = tenet_eastern_syncretism
							has_doctrine = tenet_unreformed_syncretism
							has_doctrine = tenet_christian_syncretism
							has_doctrine = tenet_islamic_syncretism
							has_doctrine = tenet_jewish_syncretism
							has_doctrine = tenet_no_syncretism
						} 
					}
					add_doctrine = tenet_no_syncretism
				}
	
				# Add adaptive to all syncretic faiths that are pluralistic
				else_if = {
					limit = { 
						OR = { 
							has_doctrine = tenet_eastern_syncretism
							has_doctrine = tenet_unreformed_syncretism
							has_doctrine = tenet_christian_syncretism
							has_doctrine = tenet_islamic_syncretism
							has_doctrine = tenet_jewish_syncretism
						}
						has_doctrine = doctrine_pluralism_pluralistic
						NOT = { has_doctrine = tenet_adaptive }
					}
					add_doctrine = tenet_adaptive
				}
		
			}
		}
	
	
			faith:zurvanism = {
					if = { 
						limit = { 
							NOT = { has_doctrine = tenet_islamic_syncretism }
						}
						add_doctrine = tenet_islamic_syncretism
					}
			}
	}
}

sea_historical_chinese_vassal_contracts = {
    effect = {
        title:e_celestia_china.holder = {

            if = {
                limit = {
                    game_start_date <= 900.1.1 # Tang Dynasty
                }

                if = {
                    limit = { NOT = { has_realm_law = bureaucratic_authority_1 } }
                    add_realm_law_skip_effects = bureaucratic_authority_1
                }

                # Set all vassals to military
                every_vassal = {
                    limit = {
                        primary_title.tier >= tier_county
                        has_government = chinese_government
                    }

                    vassal_contract_set_obligation_level = {
                        type = chinese_administration_type
                        level = chinese_administration_type_military
                    }

                    #if = {
                    #    limit = {
                    #        OR = {
                    #            # Three Fanzhen of Hebei
                    #            this = character:tangv017
                    #            this = character:tangv018
                    #            this = character:tangv019
                    #        }
                    #    }
                    #    vassal_contract_set_obligation_level = {
                    #        type = chinese_centralization_level
                    #        level = chinese_centralization_level_1
                    #    }
                    #    vassal_contract_set_obligation_level = {
                    #        type = chinese_centralization_level
                    #        level = chinese_centralization_level_0
                    #    }
					#}
                }
            }
            else_if = {
                limit = {
                    game_start_date >= 960.1.1 # Song Dynasty
                }

                if = {
                    limit = { NOT = { has_realm_law = bureaucratic_authority_2 } }
                    add_realm_law_skip_effects = bureaucratic_authority_2
                }
            }
        }

        ## Give all bureaucratic rulers vassals
        #every_ruler = {
        #    if = {
        #        limit = {
        #            highest_held_title_tier > tier_county
        #            has_government = chinese_government
        #        }
		#
        #        save_scope_as = liege
		#
        #        every_held_title = {
        #            limit = {
        #                tier = tier_county
        #                NOT = { this = scope:liege.capital_county }
        #                NOT = { this = title:c_luoyang_china }
        #            }
		#
        #            save_scope_as = title
		#
        #            if = {
        #                limit = {
        #                    title_province = { has_holding_type = tribal_holding }
        #                }
		#
        #                create_character = {
        #                    faith = scope:title.faith
        #                    culture = scope:title.culture
        #                    gender = male
        #                    dynasty = generate
        #                    location = scope:title.title_province
        #                    save_scope_as = new_character
        #                }
		#
        #                create_title_and_vassal_change = {
        #                    type = granted
        #                    save_scope_as = change
        #                    add_claim_on_loss = no
        #                }
        #                scope:title = {
        #                    change_title_holder = {
        #                        holder = scope:new_character
        #                        change = scope:change
        #                    }
        #                }
        #                resolve_title_and_vassal_change = scope:change
		#
        #                hidden_effect = {
        #                    scope:new_character = {
        #                        change_government = tribal_government
        #                        if = {
        #                            limit = { NOT = { has_realm_law = tribal_authority_0 } }
        #                            add_realm_law_skip_effects = tribal_authority_0
        #                        }
        #                    }
        #                }
        #            }
        #            else = {
        #                create_character = {
        #                    template = pool_sea_game_start_stewardship
        #                    faith = scope:liege.faith
        #                    culture = scope:liege.culture
        #                    gender = male
        #                    dynasty = generate
        #                    location = scope:title.title_province
        #                    save_scope_as = new_character
        #                }
		#
        #                create_title_and_vassal_change = {
        #                    type = granted
        #                    save_scope_as = change
        #                    add_claim_on_loss = no
        #                }
        #                scope:title = {
        #                    change_title_holder = {
        #                        holder = scope:new_character
        #                        change = scope:change
        #                    }
        #                }
        #                resolve_title_and_vassal_change = scope:change
		#
        #                hidden_effect = {
        #                    scope:new_character = {
        #                        change_government = chinese_government
        #                        # add_realm_law_skip_effects = crown_authority_0
        #                    }
        #                }
        #            }
        #        }
        #    }
        #}
		
		
		if = {
			limit = { # Double-check to make certain this has not already happened
				NOT = { exists = global_var:me_flag_add_doctrine }	
			}
			set_global_variable = { # Add global variable to prevent this from happening more than once
				name = me_flag_add_doctrine
				value = yes
			}
			every_religion_global = {
				every_faith = {
					## Add intoxication crime doctrine to faiths
					if = {
						limit = { 
							NOR = { 
								religion_tag = islam_religion
								#faith = { trait_is_sin = drunkard } ## Just incase any modded faith has drunkard as a sin #This doesn't actually work when used like this. No other faiths have drunkard so let's just get rid of the error report.
								this = faith:zurvanism # Behafardism
								this = faith:sabianism
							} 
						}
						add_doctrine = doctrine_me_intoxication_accepted
					}
					else_if = {
						limit = { 
							OR = {
								NOT = { religion_tag = islam_religion }
								#faith = { trait_is_sin = drunkard } ## Just incase any modded faith has drunkard as a sin
								this = faith:sabianism
							} 
						}
						add_doctrine = doctrine_me_intoxication_shunned
					}
#					else_if = { #Placeholder incase it is needed to give a faith the crime doctine
#						limit = { 
#							OR = { 
#							} 
#						}
#						add_doctrine = doctrine_me_intoxication_crime
#					}
#					else_if = { #Placeholder incase it is needed to give a faith the virtuous doctine
#						limit = { 
#							OR = { 
#							} 
#						}
#						add_doctrine = doctrine_me_intoxication_virtuous
#					}
				}
			}
		}
	
    }
}

lutici_rename_effect_setup = {
	trigger = {
        game_start_date <= 940.1.1
    }
	effect = {
		lutici_rename_effect = yes
	}
}
	########################################################################################### POP-UP ###########################################################################################

# Like on_game_start, except it is called once the host (or player, in single player) exits the lobby. Good for anything where you need to know who the players are, or what the game rules are
on_game_start_after_lobby = {
	on_actions = {
		MB_setup_after_game_start_on_actions
	}
}

MB_setup_after_game_start_on_actions = {
	effect = {
		every_player = { # Intro event
		 	trigger_event = MBintro.0001
		}

	}
}
