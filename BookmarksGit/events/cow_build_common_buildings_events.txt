namespace = cow_build_common_buildings


cow_build_common_buildings.1000 = {
	type = character_event
	title = cow_build_common_buildings.1000.t
	desc = cow_build_common_buildings.1000a.desc
	
	theme = realm
	override_background = {	
		reference = hills
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		if = {	
			limit = { scope:cow_vineyards = yes }
			every_directly_owned_province = {
				limit = {
					AND = {
						OR = {
							terrain = drylands
							terrain = hills
							terrain = farmlands
							terrain = plains
							terrain = floodplains
						}
						NOR = {
							has_building = vineyard_01
							has_building = tunnel_01
							has_building = hospital_01
							has_building = militia_01
						}
						OR = {
							has_holding_type = castle_holding
							AND = { 
								has_holding_type = city_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
							AND = { 
								has_holding_type = church_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
						}
						OR = {
								AND = {
									building_slots <= 7
									has_free_building_slot = yes
								}
								AND = {
									building_slots <= 7
									has_free_building_slot = no
									has_game_rule = yes_add_slots
								}
							AND = {
								has_free_building_slot = yes
								building_slots > 7
							}
						}
						NOT = { has_building_or_higher = vineyard_01 }
					}
				}
				add_to_list = all_provinces
			}
		}			
		random_in_list = {
			list = all_provinces
			save_scope_as = province_1
		}
		scope:province_1 ?= { remove_from_list = all_provinces }
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.1000.a1	
					
		trigger = { 
			exists = scope:province_1
		}
		custom_tooltip = cow_build_common_buildings.1000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.1000.b1	
					
		trigger = { 
			exists = scope:province_2
		}
		custom_tooltip = cow_build_common_buildings.1000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.1000.c1	
					
		trigger = { 
			exists = scope:province_3
		}
		custom_tooltip = cow_build_common_buildings.1000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.1000.d1	
					
		trigger = { 
			exists = scope:province_4
		}
		custom_tooltip = cow_build_common_buildings.1000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.1000.e1	
					
		trigger = { 
			exists = scope:province_5
		}
		custom_tooltip = cow_build_common_buildings.1000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.1000.f1	
					
		trigger = { 
			exists = scope:province_6
		}
		custom_tooltip = cow_build_common_buildings.1000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.1000.g1	
					
		trigger = { 
			exists = scope:province_7
		}
		custom_tooltip = cow_build_common_buildings.1000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.1000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.1000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.1000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.1000.i.tt
				
		
		trigger_event = cow_build_common_buildings.1001
		
		ai_chance = {
			base = 150
		}
	}	
}

cow_build_common_buildings.1001 = {
	type = character_event
	title = cow_build_common_buildings.1000.t
	desc = cow_build_common_buildings.1000a.desc
	
	theme = realm
	override_background = {	
		reference = hills
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		root = { save_scope_as = province_1 }
		root = { save_scope_as = province_2 }
		root = { save_scope_as = province_3 }
		root = { save_scope_as = province_4 }
		root = { save_scope_as = province_5 }
		root = { save_scope_as = province_6 }
		root = { save_scope_as = province_7 }
				
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_1
			}
			scope:province_1 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.1000.a1	
					
		trigger = { 
			exists = scope:province_1
			NOT = { root = scope:province_1 }
		}
		custom_tooltip = cow_build_common_buildings.1000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.1000.b1	
					
		trigger = { 
			exists = scope:province_2
			NOT = { root = scope:province_2 }
		}
		custom_tooltip = cow_build_common_buildings.1000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.1000.c1	
					
		trigger = { 
			exists = scope:province_3
			NOT = { root = scope:province_3 }
		}
		custom_tooltip = cow_build_common_buildings.1000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.1000.d1	
					
		trigger = { 
			exists = scope:province_4
			NOT = { root = scope:province_4 }
		}
		custom_tooltip = cow_build_common_buildings.1000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.1000.e1	
					
		trigger = { 
			exists = scope:province_5
			NOT = { root = scope:province_5 }
		}
		custom_tooltip = cow_build_common_buildings.1000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.1000.f1	
					
		trigger = { 
			exists = scope:province_6
			NOT = { root = scope:province_6 }
		}
		custom_tooltip = cow_build_common_buildings.1000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.1000.g1	
					
		trigger = { 
			exists = scope:province_7
			NOT = { root = scope:province_7 }
		}
		custom_tooltip = cow_build_common_buildings.1000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots					
				}
					add_province_modifier = extra_building_slot
					add_building = vineyard_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = vineyard_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.1000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.1000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.1000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.1000.i.tt
				
		
		trigger_event = cow_build_common_buildings.1001
		
		ai_chance = {
			base = 150
		}
	}
}

cow_build_common_buildings.2000 = {
	type = character_event
	title = cow_build_common_buildings.2000.t
	desc = cow_build_common_buildings.2000a.desc
	
	theme = realm
	override_background = {	
		reference = wilderness_mountains
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		if = {	
			limit = { scope:cow_tunnels = yes }
			every_directly_owned_province = {
				limit = {
					AND = {
						OR = {
							terrain = mountains
							terrain = desert_mountains
							terrain = hills
						}
						OR = {
							has_holding_type = castle_holding
							AND = { 
								has_holding_type = city_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
							AND = { 
								has_holding_type = church_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
						}
						NOR = {
							has_building = vineyard_01
							has_building = tunnel_01
							has_building = hospital_01
							has_building = militia_01
						}
						OR = {
							AND = {
								building_slots <= 7
								has_free_building_slot = yes
							}
							AND = {
								building_slots <= 7
								has_free_building_slot = no
								has_game_rule = yes_add_slots
							}
							AND = {
								has_free_building_slot = yes
								building_slots > 7
							}
						}
						NOT = { has_building_or_higher = tunnel_01 }
					}
				}
				add_to_list = all_provinces
			}
		}			
		random_in_list = {
			list = all_provinces
			save_scope_as = province_1
		}
		scope:province_1 = { remove_from_list = all_provinces }
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.2000.a1	
					
		trigger = { 
			exists = scope:province_1
		}
		custom_tooltip = cow_build_common_buildings.2000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots > 7
				}
					add_building = tunnel_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.2000.b1	
					
		trigger = { 
			exists = scope:province_2
		}
		custom_tooltip = cow_build_common_buildings.2000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.2000.c1	
					
		trigger = { 
			exists = scope:province_3
		}
		custom_tooltip = cow_build_common_buildings.2000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots > 7
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.2000.d1	
					
		trigger = { 
			exists = scope:province_4
		}
		custom_tooltip = cow_build_common_buildings.2000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.2000.e1	
					
		trigger = { 
			exists = scope:province_5
		}
		custom_tooltip = cow_build_common_buildings.2000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.2000.f1	
					
		trigger = { 
			exists = scope:province_6
		}
		custom_tooltip = cow_build_common_buildings.2000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.2000.g1	
					
		trigger = { 
			exists = scope:province_7
		}
		custom_tooltip = cow_build_common_buildings.2000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.2000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.2000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.2000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.2000.i.tt
				
		
		trigger_event = cow_build_common_buildings.2001
		
		ai_chance = {
			base = 150
		}
	}	
}

cow_build_common_buildings.2001 = {
	type = character_event
	title = cow_build_common_buildings.2000.t
	desc = cow_build_common_buildings.2000a.desc
	
	theme = realm
	override_background = {	
		reference = wilderness_mountains
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		root = { save_scope_as = province_1 }
		root = { save_scope_as = province_2 }
		root = { save_scope_as = province_3 }
		root = { save_scope_as = province_4 }
		root = { save_scope_as = province_5 }
		root = { save_scope_as = province_6 }
		root = { save_scope_as = province_7 }
				
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_1
			}
			scope:province_1 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.2000.a1	
					
		trigger = { 
			exists = scope:province_1
			NOT = { root = scope:province_1 }
		}
		custom_tooltip = cow_build_common_buildings.2000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots > 7
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.2000.b1	
					
		trigger = { 
			exists = scope:province_2
			NOT = { root = scope:province_2 }
		}
		custom_tooltip = cow_build_common_buildings.2000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.2000.c1	
					
		trigger = { 
			exists = scope:province_3
			NOT = { root = scope:province_3 }
		}
		custom_tooltip = cow_build_common_buildings.2000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.2000.d1	
					
		trigger = { 
			exists = scope:province_4
			NOT = { root = scope:province_4 }
		}
		custom_tooltip = cow_build_common_buildings.2000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.2000.e1	
					
		trigger = { 
			exists = scope:province_5
			NOT = { root = scope:province_5 }
		}
		custom_tooltip = cow_build_common_buildings.2000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.2000.f1	
					
		trigger = { 
			exists = scope:province_6
			NOT = { root = scope:province_6 }
		}
		custom_tooltip = cow_build_common_buildings.2000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.2000.g1	
					
		trigger = { 
			exists = scope:province_7
			NOT = { root = scope:province_7 }
		}
		custom_tooltip = cow_build_common_buildings.2000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = tunnel_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = tunnel_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.2000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.2000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.2000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.2000.i.tt
				
		
		trigger_event = cow_build_common_buildings.2001
		
		ai_chance = {
			base = 150
		}
	}
}

cow_build_common_buildings.3000 = {
	type = character_event
	title = cow_build_common_buildings.3000.t
	desc = cow_build_common_buildings.3000a.desc
	
	theme = realm
	override_background = {	
		reference = physicians_study
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		if = {	
			limit = { scope:cow_hospitals = yes }
			every_directly_owned_province = {
				limit = {
					AND = {
						is_county_capital = yes
						OR = {
							has_holding_type = castle_holding
							AND = { 
								has_holding_type = city_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
							AND = { 
								has_holding_type = church_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
						}
						NOR = {
							has_building = vineyard_01
							has_building = tunnel_01
							has_building = hospital_01
							has_building = militia_01
						}
						OR = {
							AND = {
								building_slots <= 7
								has_free_building_slot = yes
							}
							AND = {
								building_slots <= 7
								has_free_building_slot = no
								has_game_rule = yes_add_slots
							}
							AND = {
								has_free_building_slot = yes
								building_slots > 7
							}
						}
						NOT = { has_building_or_higher = hospital_01 }
					}
				}
				add_to_list = all_provinces
			}
		}			
		random_in_list = {
			list = all_provinces
			save_scope_as = province_1
		}
		scope:province_1 = { remove_from_list = all_provinces }
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.3000.a1	
					
		trigger = { 
			exists = scope:province_1
		}
		custom_tooltip = cow_build_common_buildings.3000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.3000.b1	
					
		trigger = { 
			exists = scope:province_2
		}
		custom_tooltip = cow_build_common_buildings.3000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.3000.c1	
					
		trigger = { 
			exists = scope:province_3
		}
		custom_tooltip = cow_build_common_buildings.3000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.3000.d1	
					
		trigger = { 
			exists = scope:province_4
		}
		custom_tooltip = cow_build_common_buildings.3000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.3000.e1	
					
		trigger = { 
			exists = scope:province_5
		}
		custom_tooltip = cow_build_common_buildings.3000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.3000.f1	
					
		trigger = { 
			exists = scope:province_6
		}
		custom_tooltip = cow_build_common_buildings.3000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.3000.g1	
					
		trigger = { 
			exists = scope:province_7
		}
		custom_tooltip = cow_build_common_buildings.3000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.3000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.3000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.3000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.3000.i.tt
				
		
		trigger_event = cow_build_common_buildings.3001
		
		ai_chance = {
			base = 150
		}
	}	
}

cow_build_common_buildings.3001 = {
	type = character_event
	title = cow_build_common_buildings.3000.t
	desc = cow_build_common_buildings.3000a.desc
	
	theme = realm
	override_background = {	
		reference = physicians_study
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		root = { save_scope_as = province_1 }
		root = { save_scope_as = province_2 }
		root = { save_scope_as = province_3 }
		root = { save_scope_as = province_4 }
		root = { save_scope_as = province_5 }
		root = { save_scope_as = province_6 }
		root = { save_scope_as = province_7 }
				
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_1
			}
			scope:province_1 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.3000.a1	
					
		trigger = { 
			exists = scope:province_1
			NOT = { root = scope:province_1 }
		}
		custom_tooltip = cow_build_common_buildings.3000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.3000.b1	
					
		trigger = { 
			exists = scope:province_2
			NOT = { root = scope:province_2 }
		}
		custom_tooltip = cow_build_common_buildings.3000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.3000.c1	
					
		trigger = { 
			exists = scope:province_3
			NOT = { root = scope:province_3 }
		}
		custom_tooltip = cow_build_common_buildings.3000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.3000.d1	
					
		trigger = { 
			exists = scope:province_4
			NOT = { root = scope:province_4 }
		}
		custom_tooltip = cow_build_common_buildings.3000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.3000.e1	
					
		trigger = { 
			exists = scope:province_5
			NOT = { root = scope:province_5 }
		}
		custom_tooltip = cow_build_common_buildings.3000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.3000.f1	
					
		trigger = { 
			exists = scope:province_6
			NOT = { root = scope:province_6 }
		}
		custom_tooltip = cow_build_common_buildings.3000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.3000.g1	
					
		trigger = { 
			exists = scope:province_7
			NOT = { root = scope:province_7 }
		}
		custom_tooltip = cow_build_common_buildings.3000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = hospital_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = hospital_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.3000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.3000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.3000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.3000.i.tt
				
		
		trigger_event = cow_build_common_buildings.3001
		
		ai_chance = {
			base = 150
		}
	}
}

cow_build_common_buildings.4000 = {
	type = character_event
	title = cow_build_common_buildings.4000.t
	desc = cow_build_common_buildings.4000a.desc
	
	theme = realm
	override_background = {	
		reference = alley_day
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		if = {	
			limit = { scope:cow_watch = yes }
			every_directly_owned_province = {
				limit = {
					AND = {
						OR = {
							has_holding_type = castle_holding
							AND = { 
								has_holding_type = city_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
							AND = { 
								has_holding_type = church_holding
								barony = {
									NOT = { exists = lessee }
								}
							}	
						}
						NOR = {
							has_building = vineyard_01
							has_building = tunnel_01
							has_building = hospital_01
							has_building = militia_01
						}
						OR = {
							AND = {
								building_slots <= 7
								has_free_building_slot = yes
							}
							AND = {
								building_slots <= 7
								has_free_building_slot = no
								has_game_rule = yes_add_slots
							}
							AND = {
								has_free_building_slot = yes
								building_slots > 7
							}
						}
						NOT = { has_building_or_higher = militia_01 }
					}
				}
				add_to_list = all_provinces
			}
		}			
		random_in_list = {
			list = all_provinces
			save_scope_as = province_1
		}
		scope:province_1 = { remove_from_list = all_provinces }
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.4000.a1	
					
		trigger = { 
			exists = scope:province_1
		}
		custom_tooltip = cow_build_common_buildings.4000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.4000.b1	
					
		trigger = { 
			exists = scope:province_2
		}
		custom_tooltip = cow_build_common_buildings.4000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.4000.c1	
					
		trigger = { 
			exists = scope:province_3
		}
		custom_tooltip = cow_build_common_buildings.4000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.4000.d1	
					
		trigger = { 
			exists = scope:province_4
		}
		custom_tooltip = cow_build_common_buildings.4000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.4000.e1	
					
		trigger = { 
			exists = scope:province_5
		}
		custom_tooltip = cow_build_common_buildings.4000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.4000.f1	
					
		trigger = { 
			exists = scope:province_6
		}
		custom_tooltip = cow_build_common_buildings.4000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.4000.g1	
					
		trigger = { 
			exists = scope:province_7
		}
		custom_tooltip = cow_build_common_buildings.4000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.4000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.4000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.4000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.4000.i.tt
				
		
		trigger_event = cow_build_common_buildings.4001
		
		ai_chance = {
			base = 150
		}
	}	
}

cow_build_common_buildings.4001 = {
	type = character_event
	title = cow_build_common_buildings.4000.t
	desc = cow_build_common_buildings.4000a.desc
	
	theme = realm
	override_background = {	
		reference = alley_day
	}
	
	left_portrait = {
		character = root
		animation = personality_honorable
	}
	right_portrait = {
		character = cp:councillor_steward
		animation = personality_bold
	}
	
	
	

	immediate = {
		root = { save_scope_as = province_1 }
		root = { save_scope_as = province_2 }
		root = { save_scope_as = province_3 }
		root = { save_scope_as = province_4 }
		root = { save_scope_as = province_5 }
		root = { save_scope_as = province_6 }
		root = { save_scope_as = province_7 }
				
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_1
			}
			scope:province_1 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_2
			}
			scope:province_2 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_3
			}
			scope:province_3 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_4
			}
			scope:province_4 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_5
			}
			scope:province_5 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_6
			}
			scope:province_6 = { remove_from_list = all_provinces }
		}
		if = {
			limit = {
				any_in_list = {
				list = all_provinces
				count >= 1
				}				
			}
			random_in_list = {
				list = all_provinces
				save_scope_as = province_7
			}
			scope:province_7 = { remove_from_list = all_provinces }
		}
	}
	
	#Option A
	option = {
		name = cow_build_common_buildings.4000.a1	
					
		trigger = { 
			exists = scope:province_1
			NOT = { root = scope:province_1 }
		}
		custom_tooltip = cow_build_common_buildings.4000.a.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_1
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		ai_chance = {
			base = 150
		}
	}

	#Option B
	option = {
		name = cow_build_common_buildings.4000.b1	
					
		trigger = { 
			exists = scope:province_2
			NOT = { root = scope:province_2 }
		}
		custom_tooltip = cow_build_common_buildings.4000.b.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_2
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option C
	option = {
		name = cow_build_common_buildings.4000.c1	
					
		trigger = { 
			exists = scope:province_3
			NOT = { root = scope:province_3 }
		}
		custom_tooltip = cow_build_common_buildings.4000.c.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_3
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}

	#Option D
	option = {
		name = cow_build_common_buildings.4000.d1	
					
		trigger = { 
			exists = scope:province_4
			NOT = { root = scope:province_4 }
		}
		custom_tooltip = cow_build_common_buildings.4000.d.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_4
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option E
	option = {
		name = cow_build_common_buildings.4000.e1	
					
		trigger = { 
			exists = scope:province_5
			NOT = { root = scope:province_5 }
		}
		custom_tooltip = cow_build_common_buildings.4000.e.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_5
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option F
	option = {
		name = cow_build_common_buildings.4000.f1	
					
		trigger = { 
			exists = scope:province_6
			NOT = { root = scope:province_6 }
		}
		custom_tooltip = cow_build_common_buildings.4000.f.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_6
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option G
	option = {
		name = cow_build_common_buildings.4000.g1	
					
		trigger = { 
			exists = scope:province_7
			NOT = { root = scope:province_7 }
		}
		custom_tooltip = cow_build_common_buildings.4000.g.tt
		
		
		
		hidden_effect = {
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					building_slots <= 7
					has_free_building_slot = no
					has_game_rule = yes_add_slots
				}
					add_province_modifier = extra_building_slot
					add_building = militia_01
			}
			random_directly_owned_province = {
				limit = {
					this = scope:province_7
					has_free_building_slot = yes
				}
					add_building = militia_01
			}
		}
		
		
		
		
		ai_chance = {
			base = 150
		}
	}	

	#Option h: Nevermind
	option = {
		name = cow_build_common_buildings.4000.h
		trigger = { 
			any_in_list = {
				list = all_provinces
				count = 0
			}
		}
		
		custom_tooltip = cow_build_common_buildings.4000.h.tt
		ai_chance = {
			base = 150
		}
	}

	#Option i: Next Event
	option = {
		name = cow_build_common_buildings.4000.i
		trigger = { 
			any_in_list = {
				list = all_provinces
				count >= 1
			}
		}
		custom_tooltip = cow_build_common_buildings.4000.i.tt
				
		
		trigger_event = cow_build_common_buildings.4001
		
		ai_chance = {
			base = 150
		}
	}
}



cow_build_common_buildings.9999 = {
	type = character_event 
	hidden = yes
	

	immediate= {
		if = {
			limit = {
				capital_province = {
					has_building = castle_01
					building_slots <= 7
				}
			}
			capital_province = {
				add_province_modifier = extra_building_slot
				add_building = preburge_01
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_01
					building_slots > 7
				}
			}
			capital_province = {
				add_building = preburge_01
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_02
					building_slots <= 7
				}
			}
			capital_province = {
				add_province_modifier = extra_building_slot
				add_building = preburge_02
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_02
					building_slots > 7
				}
			}
			capital_province = {
				add_building = preburge_02
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_03
					building_slots <= 7
				}
			}
			capital_province = {
				add_province_modifier = extra_building_slot
				add_building = preburge_03
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_03
					building_slots > 7
				}
			}
			capital_province = {
				add_building = preburge_03
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_04
					building_slots <= 7
				}
			}
			capital_province = {
				add_province_modifier = extra_building_slot
				add_building = preburge_04
			}
		}
		if = {
			limit = {
				capital_province = {
					has_building = castle_04
					building_slots > 7
				}
			}
			capital_province = {
				add_building = preburge_04
			}
		}
	}
}