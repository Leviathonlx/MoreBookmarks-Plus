
# Added values for lower tier costs as well, in-case we ever add traditions for ducal coronations or some such (which did happen)
base_coronation_cost = {
	value = 40
	add = {
		value = 40
		multiply = activity_cost_scale_by_era
		subtract = 40
	}
	if = {
		limit = {
			has_treasury = yes
		}
		multiply = 1.5
	}
	if = {
		limit = {
			has_variable = coronation_discount
		}
		multiply = 0.5
	}
}

#Scaling values from income

#minor_gold_value_static_max
#But with a lower max
coronation_medium_ceremony_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_income
	multiply = minor_income_multiplier_value
	min = 15
	max = 45

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
#SAME AS ABOVE, BUT TREASURY
coronation_medium_ceremony_treasury_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_treasury_income
	#Because you are probably richer than feudals and have gold on top of treasury
	multiply = 1.25
	multiply = minor_income_multiplier_value
	min = 15
	max = 45

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
#medium_gold_value_static_max
#But with a lower max
coronation_large_ceremony_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_income
	multiply = medium_income_multiplier_value # 6 months
	min = 50
	max = 200

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
#SAME AS ABOVE, BUT TREASURY
coronation_large_ceremony_treasury_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_treasury_income
	#Because you are probably richer than feudals and have gold on top of treasury
	multiply = 1.25
	multiply = medium_income_multiplier_value # 6 months
	min = 50
	max = 200

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
coronation_medium_feast_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_income
	multiply = minor_income_multiplier_value
	min = 20
	max = 60

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
#SAME AS ABOVE, BUT TREASURY
coronation_medium_feast_treasury_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_treasury_income
	#Because you are probably richer than feudals and have gold on top of treasury
	multiply = 1.25
	multiply = minor_income_multiplier_value
	min = 20
	max = 60

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
coronation_large_feast_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_income
	multiply = medium_income_multiplier_value # 6 months
	min = 70
	max = 280

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}
#SAME AS ABOVE, BUT TREASURY
coronation_large_feast_treasury_value = { #To be used as a run-of-the-mill amount
	value = monthly_character_treasury_income
	#Because you are probably richer than feudals and have gold on top of treasury
	multiply = 1.25
	multiply = medium_income_multiplier_value # 6 months
	min = 70
	max = 280

	#Rounds up to the closest number divisible by 5
	divide = 5
	ceiling = yes
	multiply = 5
}

coronation_sort_value_base = {
	value = 0
	if = { # Players get special value
		limit = {
			is_ai = no
		}
		add = 1000
	}
	add = { # Titles matter 
		value = 10
		multiply = highest_held_title_tier
	}
	if = {
		limit = {
			exists = involved_activity.activity_host
		}
		if = { # Vassals are rated higher than fellow vassals 
			limit = {
				is_vassal_of = involved_activity.activity_host
			}
			add = 50
		}
		if = { # Lieges are rated higher than fellow vassals
			limit = {
				is_liege_or_above_of = involved_activity.activity_host
			}
			add = 75
		}
		if = { # Neighbors of the realm are more important than those who are not
			limit = {
				character_is_realm_neighbor = involved_activity.activity_host
				NOR = {
					is_vassal_of = involved_activity.activity_host
					is_liege_or_above_of = involved_activity.activity_host
				}
			}
			add = 25
		}
	}
	add = { # Military strength matters, so stronger characters get a focus over weaker ones
		value = current_military_strength
		divide = 50
	}
	if = {
		limit = {
			exists = involved_activity.activity_host.house
			house ?= involved_activity.activity_host.house
		}
		add = 1
	}
	if = {
		limit = {
			exists = involved_activity.activity_host
			is_spouse_of = involved_activity.activity_host
		}
		add = 1
	}
	if = {
		limit = {
			exists = involved_activity.activity_host
			is_councillor_of = involved_activity.activity_host
		}
		add = 5
	}
}

coronation_supporter_sort_value = {
	value = 1
	add = coronation_sort_value_base
}

coronation_detractor_sort_value = {
	value = 1
	add = coronation_sort_value_base
}

coronation_province_reference_value = {
	value = 1

	if = {
		limit = {
			this = scope:host.capital_province
		}
		add = 5
	}

	if = {
		limit = {
			barony = { is_holy_site_of = scope:host.faith }
		}
		add = 5
	}

	if = {
		limit = {
			has_province_modifier = coronation_ancient_tradition_modifier
		}
		add = 15
	}
	else_if = {
		limit = {
			has_province_modifier = coronation_long_tradition_modifier
		}
		add = 10
	}
	else_if = {
		limit = {
			has_province_modifier = coronation_tradition_modifier
		}
		add = 5
	}
}

coronation_minimum_age_value = {
	value = 12
}

oath_reconquest_value_1 = {
	if = {
		limit = {
			has_variable = oath_reconquest_title
		}
		var:oath_reconquest_title = {
			every_de_jure_county = {
				limit = {
					target_is_de_facto_liege_or_above = root.primary_title
				}
				add = 1
			}
		}
	}
	else = {
		primary_title = {
			every_de_jure_county = {
				limit = {
					target_is_de_facto_liege_or_above = root.primary_title
				}
				add = 1
			}
		}
	}
}

oath_reconquest_value_2 = {
	if = {
		limit = {
			has_variable = oath_reconquest_title
		}
		var:oath_reconquest_title = {
			every_de_jure_county = {
				add = 1
			}
		}
	}
	else = {
		primary_title = {
			every_de_jure_county = {
				add = 1
			}
		}
	}
}

oath_conquest_value_1 = {
	value = sub_realm_size
	add = {
		value = sub_realm_size
		if = {
			limit = {
				is_ai = no
			}
			multiply = 0.3
		}
		else_if = {
			limit = {
				is_ai = yes
			}
			multiply = 0.15
		}
		min = 5
		floor = yes
	}
}

oath_conquest_value_2 = {
	value = sub_realm_size
}

oath_university_gold_value = {
	value = 600
	if = {
		limit = {
			any_realm_county = {
				title_province = { has_university_building_trigger = yes }
			}
		}
		divide = 4
	}
	culture = {
		switch = {
			trigger = has_cultural_era_or_later
			culture_era_late_medieval = { multiply = 2 }
			culture_era_high_medieval = { multiply = 1.5 }
			culture_era_early_medieval = { multiply = 1.25 }
			culture_era_late_medieval = { multiply = 1 }
		}
	}
}

oath_university_development_value = {
	value = 20
	culture = {
		switch = {
			trigger = has_cultural_era_or_later
			culture_era_late_medieval = { multiply = 2.5 }
			culture_era_high_medieval = { multiply = 2 }
			culture_era_early_medieval = { multiply = 1.5 }
			culture_era_late_medieval = { multiply = 1 }
		}
	}
}

coronation_ceremony_magnificence_adjustment_value = {
	value = 0
	#Attributes of the ruler
	if = {
		limit = {
			age < 16
		}
		add = -1
	}
	if = {
		limit = {
			age < 12
		}
		add = -1
	}
	if = {
		limit = {
			has_disfiguring_physical_attribute_trigger = yes
		}
		add = -2
	}
	if = {
		limit = {
			OR = {
				health <= dying_health
				has_trait = infirm
			}
		}
		add = -1
	}
	if = {
		limit = {
			has_regal_presence_trait_trigger = yes
			has_disfiguring_physical_attribute_trigger = no
		}
		add = 1
	}
	#Ceremony bonuses/maluses
	if = {
		limit = {
			scope:activity = {
				has_activity_option = {
					category = ceremony_size
					option = coronation_large_ceremony
				}
			}
			
		}
		add = 1
	}
	if = {
		limit = {
			scope:activity = {
				has_activity_option = {
					category = ceremony_size
					option = coronation_small_ceremony
				}
			}
		}
		add = -1
	}
	if = {
		limit = {
			has_activity_intent = coronation_impress_attendees
		}
		add = 1
	}
}

peace_oath_value = {
	value = 1825
	subtract = root.days_of_continuous_peace
}

alliance_oath_value = {
	value = 0
	every_ally = {
		limit = {
			highest_held_title_tier >= {
				value = root.highest_held_title_tier
				subtract = 1
			}
			opinion = {
				target = root
				value >= 50
			}
		}
		add = 1
	}
}

building_oath_value = {
	value = 0
	if = {
		limit = {
			has_variable = stewardship_oath_2_buildings
		}
		add = var:stewardship_oath_2_buildings
	}
}
#For flavor and adjusting piety in coronation ceremony the clergy's approval event
coronation_clergy_approval_value = {
	value = 0
	
	#Every reason for changing this value should get a custom tooltip in coronation_ceremony_piety_effect
	if = {
		limit = {
			OR = {
				scope:activity.special_guest:priest ?= {
					opinion = {
						target = scope:host
						value >= 90
					}
				}
				faith.religious_head ?= {
					opinion = {
						target = scope:host
						value >= 40
					}
				}
			}
		}
		add = 1
	}
	#v holy
	if = {
		limit = {
			OR = {
				piety_level >= 5
				has_trait = saoshyant
				has_trait = paragon
				has_trait = savior
				has_trait = crusader_king
			}
		}
		add = 2
	}
	#med holy
	if = {
		limit = {
			OR = {
				num_virtuous_traits >= 2
				piety_level >= 4
				has_trait = saint
				has_trait = saoshyant_descendant
				has_trait = sayyid
				has_trait = divine_blood
				has_trait = consecrated_blood
				has_trait = order_member
				has_trait = faith_warrior
				has_trait = theologian
			}
		}
		add = 2
	}
	#Kind of holy
	if = {
		limit = {
			OR = {
				piety_level >= 3
				num_virtuous_traits >= 1
				has_trait = zealous
			}
		}
		add = 1
	}
	if = {
		limit = {
			OR = {
				scope:activity.special_guest:priest ?= {
					opinion = {
						target = scope:host
						value <= -90
					}
				}
				faith.religious_head ?= {
					opinion = {
						target = scope:host
						value <= -40
					}
				}
			}
		}
		add = -2
	}
	if = {
		limit = {
			faith.religious_head ?= {
				opinion = {
					target = scope:host
					value <= -90
				}
			}
		}
		add = -2
	}
	if = {
		limit = {
			piety_level < 1
		}
		add = -2
	}
	if = {
		limit = {
			OR = {
				has_any_shunned_or_criminal_trait_in_faith_trigger = {
					CHARACTER = scope:host
					FAITH = scope:host.faith
				}
				has_trait = excommunicated
				has_trait = despoiler_of_byzantium
				has_trait = bastard
				has_trait = gallowsbait
				has_trait = decadent
				num_sinful_traits >= 2
			}
		}
		add = -1
	}
	if = {
		limit = {
			OR = {
				has_trait = excommunicated
				has_any_criminal_trait_in_faith_trigger = {
					CHARACTER = scope:host
					FAITH = scope:host.faith
				}
			}
		}
		add = -2
	}
	if = {
		limit = {
			OR = {
				has_any_shunned_or_criminal_trait_in_faith_trigger = {
					CHARACTER = scope:host
					FAITH = scope:host.faith
				}
				has_trait = excommunicated
				num_sinful_traits >= 1
				has_trait = cynical
			}
		}
		add = -1
	}
	divide = 2
}
#For flavor and adjusting prestige in coronation ceremony the vassals' approval event
coronation_vassals_approval_value = {
	value = 0

	#Every reason for changing this value should get a custom tooltip in coronation_ceremony_prestige_effect
	if = {
		limit = {
			has_activity_intent = coronation_embrace_supporters
		}
		add = 1
	}
	if = {
		limit = {
			dread >= high_dread
		}
		add = 1
	}
	if = {
		limit = {
			combined_supporter_vassal_strength > combined_detractor_vassal_strength
		}
		add = 1
	}
	if = {
		limit = {
			combined_supporter_strength > combined_detractor_strength
		}
		add = 1
	}
	if = {
		limit = {
			any_targeting_faction = {
				count = 0
				NOT = {
					faction_is_type = peasant_faction
				}
			}
		}
		add = 1
	}
	if = {
		limit = {
			number_of_vassal_supporters > number_of_vassal_detractors
			halved_combined_supporter_vassal_strength > combined_detractor_vassal_strength
		}
		add = 2
	}
	if = {
		limit = {
			legitimacy_level >= 5
			OR = {
				has_trait = august
				has_trait = family_first
				has_trait = knight_errant
				AND = {
					has_trait = lifestyle_hunter
					OR = {
						has_trait_xp = {
							trait = lifestyle_hunter
							track = hunter
							value >= 25
						}
						has_trait_xp = {
							trait = lifestyle_hunter
							track = falconer
							value >= 25
						}
					}
				}
				AND = {
					has_trait = governor
					has_trait_xp = {
						trait = governor
						value >= 50
					}
				}
				has_trait = violet_poet
				has_trait = diplomat
				has_trait = extolled
				has_trait = augustus
				has_trait = greatest_of_khans
				has_trait = gallant
			}
		}
		add = 1
	}
	if = {
		limit = {
			OR = {
				any_targeting_faction = {
					faction_power >= scope:host.current_military_strength
					NOT = {
						faction_is_type = peasant_faction
					}
				}
				any_targeting_faction = {
					count >= 2
					NOT = {
						faction_is_type = peasant_faction
					}
				}
			}
		}
		add = -2
	}
	if = {
		limit = {
			OR = {
				any_targeting_faction = {
					count >= 2
					faction_power >= scope:host.current_military_strength
					NOT = {
						faction_is_type = peasant_faction
					}
				}
				any_targeting_faction = {
					count >= 4
					NOT = {
						faction_is_type = peasant_faction
					}
				}
			}
		}
		add = -2
	}
	if = {
		limit = {
			number_of_vassal_detractors > number_of_vassal_supporters
			halved_combined_detractor_vassal_strength > combined_supporter_vassal_strength
		}
		add = -2
	}
	if = {
		limit = {
			combined_detractor_vassal_strength > combined_supporter_vassal_strength
		}
		add = -1
	}
	if = {
		limit = {
			combined_detractor_strength > combined_supporter_strength
		}
		add = -1
	}
	if = {
		limit = {
			OR = {
				AND = {
					tyranny >= high_tyranny
					dread < high_dread
				}
			}
		}
		add = -2
	}
	if = {
		limit = {
			OR = {
				has_trait = bastard
				has_trait = denounced
				has_trait = wild_oat
				has_trait = legitimized_bastard
				has_trait = gallivanter
				has_trait = disinherited
				has_trait = bastard_founder
				has_trait = disloyal
			}
		}
		add = -1
	}
	if = {
		limit = {
			tyranny >= medium_tyranny
			dread < medium_dread
		}
		add = -1
	}
	divide = 2
}

#For flavor and adjusting legitimacy in coronation ceremony the people's approval event
coronation_popular_approval_value = {
	value = 0
	
	#Every reason for changing this value should get a custom tooltip in coronation_ceremony_legitimacy_effect
	if = {
		limit = {
			has_activity_intent = coronation_impress_attendees
		}
		add = 1
	}
	if = {
		limit = {
			location.county = {
				county_opinion >= 50
			}
		}
		add = 2
	}
	if = {
		limit = {
			location.county = {
				county_opinion >= 25
			}
		}
		add = 1
	}
	if = {
		limit = {
			involved_activity = {
				has_activity_option = {
					category = special_type
					option = coronation_type_anointment
				}
			}
		}
		add = 1
	}
	if = {
		limit = {
			OR = {
				has_trait = peasant_leader
				has_trait = populist_leader
				has_trait = education_republican_knowledge_1
				has_trait = education_republican_knowledge_2
				has_trait = education_republican_knowledge_3
				has_trait = education_republican_knowledge_4
			}
		}
		add = 2
	}
	#The people
	if = {
		limit = {
			#No peasant factions against you
			NOT = {
				any_targeting_faction = {
					OR = {
						faction_is_type = peasant_faction
						faction_is_type = populist_faction
					}
				}
			}
		}
		add = 1
	}
	if = {
		limit = {
			location.county = {
				holder = {
					OR = {
						this = root
						any_liege_or_above = {
							this = root
						}
					}
				}
				county_opinion < 0
			}
		}
		add = -1
	}
	if = {
		limit = {
			location.county = {
				holder = {
					OR = {
						this = root
						any_liege_or_above = {
							this = root
						}
					}
				}
				county_control < 100
			}
		}
		add = -1
	}
	if = {
		limit = {
			location.county = {
				holder = {
					OR = {
						this = root
						any_liege_or_above = {
							this = root
						}
					}
				}
				county_opinion <= -30
			}
		}
		add = -1
	}
	if = {
		limit = {
			location.county = {
				holder = {
					OR = {
						this = root
						any_liege_or_above = {
							this = root
						}
					}
				}
				county_control <= 50
			}
		}
		add = -1
	}
	if = {
		limit = {
			OR = {
				#county is in faction against liege
				location.county = {
					holder = {
						OR = {
							this = scope:host
							any_liege_or_above = {
								this = scope:host
							}
						}
					}
					title_is_a_faction_member = yes
				}
			}
			
		}
		add = -4
	}
	if = {
		limit = {
			OR = {
				AND = {
					tyranny >= high_tyranny
					dread < high_dread
				}
				#Disease in province
				location = {
					any_province_epidemic = {
						exists = this
					}
				}
			}
			
		}
		add = -2
	}
	if = {
		limit = {
			tyranny >= medium_tyranny
			dread < medium_dread
		}
		add = -2
	}
	divide = 2
}

children_oath_value = {
	value = 0
	every_child = {
		limit = {
			NOT = { has_trait = bastard }
		}
		add = 1
	}
}

half_current_military_strength = {
	value = current_military_strength
	divide = 2
}

half_max_military_strength = {
	value = max_military_strength
	divide = 2
}

oath_warriors_building_01_high_medieval_value = {
	value = 0
	every_knight = {
		limit = {
			prowess >= 14
            any_character_trait = {
		    	has_trait_category = commander
		    }
		}
		add = 1
	}
}

oath_warriors_building_01_early_medieval_value = {
	value = 0
	every_knight = {
		limit = {
			prowess >= 10
            any_character_trait = {
		    	has_trait_category = commander
		    }
		}
		add = 1
	}
}

oath_warriors_building_03_late_medieval_value = {
	value = 0
	every_knight = {
		limit = {
			prowess >= 16
            martial >= 16
		}
		add = 1
	}
}

oath_warriors_building_03_high_medieval_value = {
	value = 0
	every_knight = {
		limit = {
			prowess >= 14
			martial >= 14
		}
		add = 1
	}
}

oath_warriors_building_03_early_medieval_value = {
	value = 0
	every_knight = {
		limit = {
			prowess >= 12
			martial >= 12
		}
		add = 1
	}
}

oath_faithful_building_01_high_medieval_value = {
	value = 0
	every_courtier = {
		limit = {
			learning >= 16
		}
		add = 1
	}
}

oath_faithful_building_01_early_medieval_value = {
	value = 0
	every_courtier = {
		limit = {
			learning >= 14
		}
		add = 1
	}
}

oath_faithful_building_02_tooltip_value = {
	value = 0
	every_close_family_member = {
		limit = {
			has_trait = devoted
		}
		add = 1
	}
}

oath_faithful_building_03_tooltip_value = {
	value = 0
	every_vassal = {
		limit = {
			piety_level >= 3
		}
		add = 1
	}
}

oath_poor_building_01_tooltip_value = {
	value = 0
	every_courtier = {
		limit = {
			is_lowborn = yes
		}
		add = 1
	}
}

oath_poor_building_02_tooltip_value = {
	value = 0
	every_vassal = {
		limit = {
			has_trait = compassionate
		}
		add = 1
	}
}

oath_poor_building_03_tooltip_value = {
	value = 0
	every_councillor = {
		limit = {
			is_vassal_of = root
            has_trait = compassionate
		}
		add = 1
	}
}

oath_purge_pretenders_tyranny = {
	value = tyranny
}

oath_purge_pretenders_claimants = {
	value = 0 
	var:purge_pretenders_target_title ?= {
		every_claimant = {
			limit = {
				NOT = {
					is_child_of = root
				}
			}
			add = 1
		}
	}
}

oath_purge_pretenders_children = {
	value = 0
	every_child = {
		limit = {
			has_claim_on = root.var:purge_pretenders_target_title
		}
		add = 1
	}
}

coronation_spouse_prestige_value = {
	value = 0
	if = {
		limit = {
			scope:activity.var:activity_special_type_progression >= 75
			scope:host.highest_held_title_tier >= tier_empire
		}
		add = monumental_prestige_value
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 75
				AND = {
					scope:activity.var:activity_special_type_progression >= 50
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = {
			value = monumental_prestige_value
			multiply = 0.666
		}
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 50
				AND = {
					scope:activity.var:activity_special_type_progression >= 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		
		add = {
			value = monumental_prestige_value
			multiply = 0.5
		}
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 25
				AND = {
					scope:activity.var:activity_special_type_progression < 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = {
			value = monumental_prestige_value
			multiply = 0.333
		}
	}
	else = {
		
		add = {
			value = massive_prestige_value
			multiply = 0.333
		}
	}
	if = {
		limit = {
			highest_held_title_tier >= tier_kingdom
		}
		divide = 2
	}
}
coronation_spouse_influence_value = {
	value = 0
	if = {
		limit = {
			scope:activity.var:activity_special_type_progression >= 75
			scope:host.highest_held_title_tier >= tier_empire
		}
		add = monumental_influence_value
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 75
				AND = {
					scope:activity.var:activity_special_type_progression >= 50
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = massive_influence_value
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 50
				AND = {
					scope:activity.var:activity_special_type_progression >= 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = major_influence_value
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 25
				AND = {
					scope:activity.var:activity_special_type_progression < 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = medium_influence_value
	}
	else = {
		add = minor_influence_value
	}
	if = {
		limit = {
			highest_held_title_tier >= tier_kingdom
		}
		divide = 2
	}
}
coronation_spouse_stress_value = {
	value = 0
	if = {
		limit = {
			scope:activity.var:activity_special_type_progression >= 75
			scope:host.highest_held_title_tier >= tier_empire
		}
		add = massive_stress_loss
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 75
				AND = {
					scope:activity.var:activity_special_type_progression >= 50
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = major_stress_loss
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 50
				AND = {
					scope:activity.var:activity_special_type_progression >= 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = medium_stress_loss
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 25
				AND = {
					scope:activity.var:activity_special_type_progression < 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = minor_stress_loss
	}
	else = {
		add = miniscule_stress_loss
	}
}

coronation_spouse_opinion_value = {
	value = 0
	if = {
		limit = {
			scope:activity.var:activity_special_type_progression >= 75
			scope:host.highest_held_title_tier >= tier_empire
		}
		add = 20
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 75
				AND = {
					scope:activity.var:activity_special_type_progression >= 50
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = 15
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 50
				AND = {
					scope:activity.var:activity_special_type_progression >= 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = 10
	}
	else_if = {
		limit = {
			OR = {
				scope:activity.var:activity_special_type_progression >= 25
				AND = {
					scope:activity.var:activity_special_type_progression < 25
					scope:host.highest_held_title_tier >= tier_empire
				}
			}
		}
		add = 5
	}
}

coronation_artifact_ai_instant_creation_chance = {
	value = 10
	if = {
		limit = {
			OR = {
				has_trait = conqueror
				has_trait = greatest_of_khans
			}
		}
		add = 90
	}
	if = {
		limit = {
			years_as_ruler >= 5
		}
		add = 10
	}
	if = {
		limit = {
			years_as_ruler >= 10
		}
		add = 10
	}
	if = {
		limit = {
			highest_held_title_tier >= tier_empire
		}
		add = 10
	}
	if = {
		limit = {
			short_term_gold >= monumental_gold_value
		}
		add = 30
	}
	if = {
		limit = {
			short_term_gold >= massive_gold_value
		}
		add = 20
	}
	if = {
		limit = {
			short_term_gold >= major_gold_value
		}
		add = 10
	}
	if = {
		limit = {
			short_term_gold >= medium_gold_value
		}
		add = 10
	}
}

medium_gold_value_tripled = {
	value = medium_gold_value
	multiply = 3
}
