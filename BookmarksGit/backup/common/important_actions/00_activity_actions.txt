action_can_host_activity = {
	type = alert
	check_create_action = {
		if = {
			limit = {
				# Make the alert disappear if you are planning an activity already
				NOT = { is_game_view_open = activity_planner }
				NOT = { has_global_variable = tutorial_current_situation_gradual_reveal_3 }
			}

			every_activity_type = {
				limit = {
					save_temporary_scope_as = activity_type

					NOT = { scope:activity_type = activity_type:activity_wedding }
					
					root = {
						should_notify_can_host_activity = scope:activity_type
						can_host_activity = scope:activity_type
					}
				}
				try_create_important_action = {
					important_action_type = action_can_host_activity
					activity_type = this
				}
			}
		}
	}

	effect = {
		scope:activity_type = { open_view_data = activity_list_detail_host_window }
	}
}

action_can_join_open_activity = {
	type = alert
	check_create_action = {
		if = {
			limit = {
				# Make the alert disappear if you are planning an activity already
				NOT = { is_game_view_open = activity_planner }
			}

			every_open_invite_activity = {
				limit = {
					save_temporary_scope_as = activity
					root = {
						should_notify_can_join_activity = scope:activity.activity_type
						can_join_activity = scope:activity
						can_arrive_in_time_to_activity_minimum = scope:activity
					}
				}
				try_create_important_action = {
					important_action_type = action_can_join_open_activity
					activity = this
				}
			}
		}
	}

	effect = {
		scope:activity = { open_view_data = activity_list_detail_invite_window }
	}
}

action_invited_to_activity = {
	type = alert
	check_create_action = {
		every_invited_activity = {
			limit = {
				# Handled by join open invite alert
				NOT = { is_open_invite_activity = yes }
				
				save_temporary_scope_as = activity
				root = {
					can_join_activity = scope:activity
					can_arrive_in_time_to_activity_minimum = scope:activity
				}
			}
			try_create_important_action = {
				important_action_type = action_invited_to_activity
				activity = this
			}
		}
	}

	effect = {
		scope:activity = { open_view_data = activity_list_detail_invite_window }
	}
}


action_awaiting_coronation = {
	priority = 299
	is_dangerous = yes
	check_create_action = {
		if = {
			limit = {
				has_ach_dlc_trigger = yes
				has_realm_law = uncrowned
				coronation_trigger = yes
			}
			try_create_important_action = {
				important_action_type = action_awaiting_coronation
			}
		}
	}
	effect = {
		if = {
			limit = {
				NOT = { is_game_view_open = my_realm }
			}
			open_view_data = {
				view = my_realm
				data = flag:bookmark_laws
			}
		}
		else = {
			open_view_data = {
				view = activity_list_detail_host_window
				data = activity_type:activity_coronation
			}
		}
	}
}


action_active_diplomacy_oath_1 = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = diplomacy_oath_1
			}
			try_create_important_action = {
				important_action_type = action_active_diplomacy_oath_1
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:diplomacy_oath_1_decision
			player = root
		}
	}
}

action_active_martial_oath_1 = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = martial_oath_1
			}
			try_create_important_action = {
				important_action_type = action_active_martial_oath_1
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:martial_oath_1_decision
			player = root
		}
	}
}

action_active_martial_oath_2 = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = martial_oath_2
			}
			try_create_important_action = {
				important_action_type = action_active_martial_oath_2
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:martial_oath_2_decision
			player = root
		}
	}
}

action_active_stewardship_oath_1 = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = stewardship_oath_1
			}
			try_create_important_action = {
				important_action_type = action_active_stewardship_oath_1
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:stewardship_oath_1_decision
			player = root
		}
	}
}

action_active_stewardship_oath_2 = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = stewardship_oath_2
			}
			try_create_important_action = {
				important_action_type = action_active_stewardship_oath_2
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:stewardship_oath_2_decision
			player = root
		}
	}
}

action_active_learning_oath_1 = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = learning_oath_1
			}
			try_create_important_action = {
				important_action_type = action_active_learning_oath_1
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:learning_oath_1_decision
			player = root
		}
	}
}

action_active_purge_pretenders_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = purge_pretenders_oath
			}
			try_create_important_action = {
				important_action_type = action_active_purge_pretenders_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:purge_pretenders_oath_decision
			player = root
		}
	}
}

action_active_end_the_struggle_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = end_the_struggle_oath
			}
			try_create_important_action = {
				important_action_type = action_active_end_the_struggle_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:end_the_struggle_oath_decision
			player = root
		}
	}
}

action_active_greatest_hunter_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = greatest_hunter_oath
			}
			try_create_important_action = {
				important_action_type = action_active_greatest_hunter_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:greatest_hunter_oath_decision
			player = root
		}
	}
}

action_active_heir_preparation_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = heir_preparation_oath
			}
			try_create_important_action = {
				important_action_type = action_active_heir_preparation_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:heir_preparation_oath_decision
			player = root
		}
	}
}

action_active_install_claimants_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = install_claimants_oath
			}
			try_create_important_action = {
				important_action_type = action_active_install_claimants_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:install_claimants_oath_decision
			player = root
		}
	}
}

action_active_mend_the_fracture_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = mend_the_fracture_oath
			}
			try_create_important_action = {
				important_action_type = action_active_mend_the_fracture_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:mend_the_fracture_oath_decision
			player = root
		}
	}
}

action_active_provide_for_the_warriors_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = provide_for_the_warriors_oath
			}
			try_create_important_action = {
				important_action_type = action_active_provide_for_the_warriors_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:provide_for_the_warriors_oath_decision
			player = root
		}
	}
}

action_active_provide_for_the_faithful_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = provide_for_the_faithful_oath
			}
			try_create_important_action = {
				important_action_type = action_active_provide_for_the_faithful_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:provide_for_the_faithful_oath_decision
			player = root
		}
	}
}

action_active_provide_for_the_poor_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = provide_for_the_poor_oath
			}
			try_create_important_action = {
				important_action_type = action_active_provide_for_the_poor_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:provide_for_the_poor_oath_decision
			player = root
		}
	}
}

action_active_repent_oath = {
	priority = 1000
	check_create_action = {
		if = {
			limit = {
				has_variable = repent_oath
			}
			try_create_important_action = {
				important_action_type = action_active_repent_oath
			}
		}
	}

	effect = {
		open_view_data = {
			view = decision_detail
			data = decision:repent_oath_decision
			player = root
		}
	}
}



