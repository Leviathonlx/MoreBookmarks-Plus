### Festival Intents

raise_cohesion_intent = {
	scripted_animation = { animation = admiration }

	is_shown = {
		exists = house.house_confederation.leading_house.house_head
	}

	is_valid = {
		is_adult = yes
		house.house_confederation.cohesion < 95
		exists = house.house_confederation.leading_house.house_head
	}

	ai_will_do = {
		value = 5
		if = {
			limit = { house = house.house_confederation.leading_house }
			add = 25
		}
		if = {
			limit = { house.house_confederation.cohesion < 50 }
			add = 10
		}
	}

	auto_complete = yes
}

add_to_bloc_intent = {
	scripted_animation = { animation = flirtation }

	is_shown = {
		exists = house.house_confederation.leading_house.house_head
	}

	is_valid = {
		is_adult = yes
	}

	is_target_valid = {
		scope:target = {
			is_ai = yes
			is_house_head = yes
			NOT = {
				this = root.liege
			}
			trigger_if = {
				limit = { exists = house.house_confederation }
				NOR = {
					root.house.house_confederation ?= house.house_confederation 
					this = this.house.house_confederation.leading_house.house_head
				}
			}
			liege = root.house.house_confederation.leading_house.house_head.liege
		}
	}

	ai_targets = {
		ai_recipients = peer_vassals
		ai_recipients = vassals
		max = 25
	}

	ai_target_quick_trigger = {
		adult = yes 				# The target needs to be adult
		prison = no 				# Target must be in prison
	}

	ai_target_score = {
		value = 25
		if = {
			limit = { has_relation_rival = scope:target }
			add = -1000
		}
	}

	ai_will_do = {
		value = 50
		if = {
			limit = {
				has_trait = paranoid
			}
			add = -1000
		}
	}

	auto_complete = yes
}

remove_from_bloc_intent = {
	scripted_animation = { animation = scheme }

	is_shown = {
		always = yes
	}

	is_valid = {
		is_adult = yes
	}

	is_target_valid = {
		scope:target = {
			is_ai = yes
			is_house_head = yes
			exists = house.house_confederation.leading_house.house_head
			NOR = {
				this = root.liege
				this = this.house.house_confederation.leading_house.house_head
				liege = root
			}
		}
	}

	ai_targets = {
		ai_recipients = peer_vassals
		ai_recipients = vassals
		max = 25
	}

	ai_target_quick_trigger = {
		adult = yes 				# The target needs to be adult
		prison = no 				# Target must be in prison
	}

	ai_target_score = {
		value = 25
		if = {
			limit = { has_relation_rival = scope:target }
			add = 1000
		}
	}

	ai_will_do = {
		value = 0
	}

	auto_complete = yes
}
