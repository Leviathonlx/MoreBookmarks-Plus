
debug_change_house_relation = {
	category = interaction_debug_tgp
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	common_interaction = yes
	icon = icon_claim_pressed
	auto_accept = yes
	is_shown = {
		debug_only = yes
		exists = scope:actor.house
		scope:recipient.house ?= {
			NOT = { this = scope:actor.house }
		}
	}
	is_valid_showing_failures_only = {
		house_relation_is_valid_to_start_trigger = {
			HOUSE = scope:actor.house
			OTHER_HOUSE = scope:recipient.house
		}
	}
	send_option = {
		flag = neutral
		localization = debug_neutral_house_relation
	}
	send_option = {
		flag = increase
		localization = debug_increase_house_relation
		is_valid = {
			scope:actor.house = { has_house_relation_with = scope:recipient.house }
		}
	}
	send_option = {
		flag = improve
		localization = debug_improve_house_relation
	}
	send_option = {
		flag = damage
		localization = debug_damage_house_relation
	}
	send_option = {
		flag = decrease
		localization = debug_decrease_house_relation
		is_valid = {
			scope:actor.house = { has_house_relation_with = scope:recipient.house }
		}
	}
	send_option = {
		flag = clear
		localization = debug_clear_house_relation
		is_valid = {
			custom_tooltip = {
				text = action_in_debt_click
				scope:actor.house = {
					any_house_relation = {
						any_relation_house = { scope:recipient.house = this }
					}
				}
			}
		}
	}
	send_option = {
		flag = start_feud
		localization = debug_start_feud
		is_shown = {
			has_bp1_dlc_trigger = yes
		}
		is_valid = {
			custom_tooltip = {
				text = action_in_debt_click
				NOT = {
					house_has_feud_relation_with_trigger = { TARGET = scope:recipient }
				}
			}
		}
	}
	can_send = {
		house_relation_is_valid_to_start_trigger = {
			HOUSE = scope:actor.house
			OTHER_HOUSE = scope:recipient.house
		}
	}
	on_accept = {
		scope:actor.house = {
			switch = {
				trigger = yes
				scope:neutral = {
					set_house_relation_level_effect = {
						HOUSE = scope:recipient.house
						REASON = debug
						LEVEL = neutral
					}
				}
				scope:increase = {
					increase_house_relation_level_effect = {
						HOUSE = scope:recipient.house
						REASON = debug
					}
				}
				scope:improve = {
					change_house_relation_effect = {
						HOUSE = scope:recipient.house
						VALUE = house_relation_improve_medium_value
						REASON = debug
						CHAR = scope:actor
						TARGET_CHAR = scope:recipient
						TITLE = scope:dummy_gender
					}
				}
				scope:damage = {
					change_house_relation_effect = {
						HOUSE = scope:recipient.house
						VALUE = house_relation_damage_medium_value
						REASON = debug
						CHAR = scope:actor
						TARGET_CHAR = scope:recipient
						TITLE = scope:dummy_gender
					}
				}
				scope:decrease = {
					decrease_house_relation_level_effect = {
						HOUSE = scope:recipient.house
						REASON = debug
					}
				}
				scope:clear = {
					random_house_relation = {
						limit = {
							any_relation_house = { scope:recipient.house = this }
						}
						clear_house_relation = yes
					}
				}
				scope:start_feud = {
					house_feud_start_effect = {
						# Feuding House Head
						ACTOR = scope:actor
						# Target House Head
						TARGET = scope:recipient
						# Feud Reason
						REASON = head_cuckolded
						# House Member attacker if relevant 
						ATTACKER = scope:actor
						# House Member victim if relevant
						VICTIM = scope:recipient
					}
				}
			}
		}
	}
}

debug_spawn_natural_disaster = {
	category = interaction_debug_tgp
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	common_interaction = yes
	icon = debug_bad
	auto_accept = yes
	is_shown = {
		debug_only = yes
		scope:recipient ?= {
			is_landed = yes
			highest_held_title_tier >= tier_county
		}
	}
	send_option = {
		flag = sub_realm_earthquake
		localization = debug_sub_realm_earthquake
	}
	send_option = {
		flag = random_earthquake
		localization = debug_random_earthquake
	}
	send_option = {
		flag = sub_realm_flood
		localization = debug_sub_realm_flood
		is_valid = {
			custom_tooltip = {
				text = debug_sub_realm_flood_tt
				scope:recipient = {
					any_sub_realm_county = {
						title_province = { geographical_region = global_flood_region }
						NOT = {
							any_county_situation = { situation_type = natural_disaster_flood }
						}
					}
				}
			}
		}
	}
	send_option = {
		flag = random_flood
		localization = debug_random_flood
	}
	on_accept = {
		hidden_effect = {
			scope:recipient = {
				switch = {
					trigger = yes
					scope:sub_realm_earthquake = {
						scope:recipient = {
							random_sub_realm_county = {
								limit = {
									save_temporary_scope_as = county_temp
									NOT = {
										any_in_global_list = {
											variable = ongoing_earthquakes
											var:epicenter_county ?= scope:county_temp.kingdom
										}
									}
								}
								spawn_earthquake_in_county_effect = { COUNTY = this }
							}
						}
					}
					scope:random_earthquake = { trigger_event = natural_disaster.9901 }
					scope:sub_realm_flood = {
						scope:recipient = {
							random_sub_realm_county = {
								limit = {
									title_province = { geographical_region = global_flood_region }
									NOT = {
										any_county_situation = { situation_type = natural_disaster_flood }
									}
								}
								spawn_flood_in_county_effect = { COUNTY = this }
							}
						}
					}
					scope:random_flood = { trigger_event = natural_disaster.9902 }
				}
			}
		}
	}
}

debug_change_bloc_cohesion = {
	category = interaction_debug_tgp
	use_diplomatic_range = no
	ignores_pending_interaction_block = yes
	common_interaction = yes
	icon = icon_leave_bloc
	auto_accept = yes
	is_shown = {
		debug_only = yes
		scope:recipient.house.house_confederation ?= { has_cohesion = yes }
	}
	send_option = {
		flag = max
		localization = Max
	}
	send_option = {
		flag = improve
		localization = debug_improve_house_relation
	}
	send_option = {
		flag = damage
		localization = debug_damage_house_relation
	}
	send_option = {
		flag = destroy
		localization = DESTROY_ACCOLADE
	}
	on_accept = {
		scope:recipient.house.house_confederation = {
			switch = {
				trigger = yes
				scope:max = { change_cohesion = 100 }
				scope:improve = { change_cohesion = 20 }
				scope:damage = { change_cohesion = -20 }
				scope:destroy = { change_cohesion = -100 }
			}
		}
	}
}
