reactive_advice_welcome_to_japan = {
	chain = reactive_advice
	start_automatically = no
	shown_in_encyclopedia = no

	reactive_advice_welcome_to_japan_step_intro = {
		text = "reactive_advice_welcome_to_japan_step_intro_desc"
		shown_in_encyclopedia = no

		animation = center

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_government
		}
	}

	reactive_advice_welcome_to_japan_step_government = {
		text = "reactive_advice_welcome_to_japan_step_government_desc"
		shown_in_encyclopedia = no

		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_intro
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_open_families_tab
		}
		
	}

	reactive_advice_welcome_to_japan_step_open_families_tab = {
		text = "reactive_advice_welcome_to_japan_step_open_families_tab_desc"

		animation = center
		shown_in_encyclopedia = no

		highlight_widget = "tab_government_administration"
		highlight_widget_with_index = {
			administration_tabs = 1
		}

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_government
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_emperor_and_regent
			trigger = {
				custom_tooltip = {
					text = "reactive_advice_welcome_to_japan_step_open_families_tab_prompt"
					is_widgetid_open = "powerful_families"
					
				}
			}
		}
	}

	reactive_advice_welcome_to_japan_step_emperor_and_regent = {
		text = "reactive_advice_welcome_to_japan_step_emperor_and_regent_desc"
		shown_in_encyclopedia = no

		animation = top_center

		highlight_widget = "government_panel_figurehead_family"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_government
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_emperor_and_regent_2
		}

		# rewind if view is closed
		trigger_transition = {
			target = reactive_advice_welcome_to_japan_step_open_families_tab
			trigger = {
				NOT = { is_widgetid_open = powerful_families }
			}
		}
	}

	reactive_advice_welcome_to_japan_step_emperor_and_regent_2 = {
		text = "reactive_advice_welcome_to_japan_step_emperor_and_regent_2_desc"
		shown_in_encyclopedia = no

		animation = top_center

	
		highlight_widget = "government_panel_defacto_ruling_family"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_emperor_and_regent
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_manor
		}

		# rewind if view is closed
		trigger_transition = {
			target = reactive_advice_welcome_to_japan_step_open_families_tab
			trigger = {
				NOT = { is_widgetid_open = powerful_families }
			}
		}
	}

	reactive_advice_welcome_to_japan_step_manor = {
		text = "reactive_advice_welcome_to_japan_step_manor_desc"
		shown_in_encyclopedia = no

		highlight_widget = hud_camp_button

		interface_effect = {
			close_all_views = yes
		}

		animation = bottom_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_emperor_and_regent_2
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_house_aspirations
		}
	}

	reactive_advice_welcome_to_japan_step_house_aspirations = {
		text = "reactive_advice_welcome_to_japan_step_house_aspirations_desc"
		shown_in_encyclopedia = no

		highlight_widget = house_power_hud_button

		interface_effect = {
			close_all_views = yes
		}

		animation = bottom_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_manor
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_blocs
		}
	}

	reactive_advice_welcome_to_japan_step_blocs = {
		text = "reactive_advice_welcome_to_japan_step_blocs_desc"
		shown_in_encyclopedia = no

		highlight_widget = confederation_button
		animation = center

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_house_aspirations
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_welcome_to_japan_step_end
		}
	}

	reactive_advice_welcome_to_japan_step_end = {
		text = "reactive_advice_welcome_to_japan_step_end_desc"
		shown_in_encyclopedia = no

		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_welcome_to_japan_step_house_aspirations
		}


		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

# Soryos path to becoming Shogun

reactive_advice_soryo_intro = {
	chain = reactive_advice
	start_automatically = no
	shown_in_encyclopedia = no

	# Step 1 - Intro
	ra_soryo_intro = {
		text = "ra_soryo_intro_desc"
		shown_in_encyclopedia = no
		animation = center

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_basics
		}
	}

	# Step 2 - Basics
	ra_soryo_basics = {
		text = "ra_soryo_basics_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = confederation_button

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_intro
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_open_decisions
		}
	}

	# Step 3 - Open Decisions
	ra_soryo_open_decisions = {
		text = "ra_soryo_open_decisions_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "tab_decisions"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_basics
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_regional_dominion
			trigger = {
				custom_tooltip = {
					text = "ra_soryo_open_decisions_prompt"
					is_widgetid_open = "decisions_panel_decisions_scrollarea"
				}
			}
		}
	}

	# Step 4 - Regional Dominion Decision
	ra_soryo_regional_dominion = {
		text = "ra_soryo_regional_dominion_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = tgp_japan_assert_regional_dominion_government_decision_tutorial_highlight

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_open_decisions
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_shogunate
		}

		# rewind if view is closed
		trigger_transition = {
			target = ra_soryo_open_decisions
			trigger = {
				NOT = { is_widgetid_open = decisions_panel_decisions_scrollarea }
			}
		}
	}

	# Step 5 - Shogunate Decision
	ra_soryo_shogunate = {
		text = "ra_soryo_shogunate_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = tgp_japan_become_shogun_decision_tutorial_highlight

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_regional_dominion
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_intro_open_factions
		}

		# rewind if view is closed
		trigger_transition = {
			target = ra_soryo_open_decisions
			trigger = {
				NOT = { is_widgetid_open = decisions_panel_decisions_scrollarea }
			}
		}
	}

	# Step 6 - Open Factions
	ra_soryo_intro_open_factions = {
		text = "ra_soryo_intro_open_factions_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "tab_factions"
		highlight_widget_with_index = {
			factions_panel_tab_buttons = 1
		}

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_shogunate
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_intro_install_regent_faction
			trigger = {
				custom_tooltip = {
					text = "ra_soryo_intro_open_factions_prompt"
					is_widgetid_open = "faction_panel_potential_factions"
				}
			}
		}
	}

	# Step 7 - Install Regent Faction
	ra_soryo_intro_install_regent_faction = {
		text = "ra_soryo_intro_install_regent_faction_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "creatable_factions"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_intro_open_factions
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_end
		}

		# rewind if view is closed
		trigger_transition = {
			target = ra_soryo_intro_open_factions
			trigger = {
				NOT = { is_widgetid_open = faction_panel_potential_factions }
			}
		}
	}

	# Step 8 - End
	ra_soryo_end = {
		text = "ra_soryo_end_desc"
		shown_in_encyclopedia = no
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_intro_install_regent_faction
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}


reactive_advice_lead_your_soryo_bloc = {
	chain = reactive_advice
	start_automatically = no
	shown_in_encyclopedia = no

	# Step 1 - Intro
	ra_soryo_bloc_leader_intro = {
		text = "ra_soryo_bloc_leader_intro_desc"
		shown_in_encyclopedia = no
		animation = center

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_leader_open_bloc
		}
	}

	# Step 2 - Open Bloc
	ra_soryo_bloc_leader_open_bloc = {
		text = "ra_soryo_bloc_leader_open_bloc_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = confederation_button

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_intro
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_leader_strength_intro
			trigger = {
				custom_tooltip = {
					text = "ra_soryo_bloc_leader_open_bloc_prompt"
					is_widgetid_open = "confederation_window"
				}
			}
		}
	}

	# Step 3 - Bloc Strength Intro
	ra_soryo_bloc_leader_strength_intro = {
		text = "ra_soryo_bloc_leader_strength_intro_desc"
		shown_in_encyclopedia = no
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_open_bloc
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_leader_strength_details
		}

		# rewind if view is closed
		trigger_transition = {
			target = ra_soryo_bloc_leader_open_bloc
			trigger = {
				NOT = { is_widgetid_open = confederation_window }
			}
		}
	}

	# Step 4 - Bloc Strength Details
	ra_soryo_bloc_leader_strength_details = {
		text = "ra_soryo_bloc_leader_strength_details_desc"
		shown_in_encyclopedia = no
		animation = top_center

		highlight_widget = house_total_strength

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_strength_intro
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_leader_expanding
		}

		trigger_transition = {
			target = ra_soryo_bloc_leader_open_bloc
			trigger = {
				NOT = { is_widgetid_open = confederation_window }
			}
		}
	}

	# Step 5 - Expanding the Bloc
	ra_soryo_bloc_leader_expanding = {
		text = "ra_soryo_bloc_leader_expanding_desc"
		shown_in_encyclopedia = no
		animation = far_right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_strength_details
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_leader_cohesion
		}

		trigger_transition = {
			target = ra_soryo_bloc_leader_open_bloc
			trigger = {
				NOT = { is_widgetid_open = confederation_window }
			}
		}
	}

	# Step 6 - Bloc Cohesion
	ra_soryo_bloc_leader_cohesion = {
		text = "ra_soryo_bloc_leader_cohesion_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = bloc_cohesion_bar

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_expanding
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_leader_cohesion_2
		}

		trigger_transition = {
			target = ra_soryo_bloc_leader_open_bloc
			trigger = {
				NOT = { is_widgetid_open = confederation_window }
			}
		}
	}

	ra_soryo_bloc_leader_cohesion_2 = {
		text = "ra_soryo_bloc_leader_cohesion_2_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = individual_house_cohesion

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_cohesion
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_soryo_bloc_end
		}

		trigger_transition = {
			target = ra_soryo_bloc_leader_open_bloc
			trigger = {
				NOT = { is_widgetid_open = confederation_window }
			}
		}
	}


	ra_soryo_bloc_end = {
		text = "ra_soryo_bloc_end_desc"
		shown_in_encyclopedia = no
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_soryo_bloc_leader_cohesion_2
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_soryo_regent_become_shogun = {
	chain = reactive_advice
	start_automatically = no
	shown_in_encyclopedia = no

	# Step 1 - Intro
	ra_become_shogun_intro = {
		text = "ra_become_shogun_intro_desc"
		shown_in_encyclopedia = no
		animation = center

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_open_decisions
		}
	}

	# Step 2 - Open Decisions
	ra_become_shogun_open_decisions = {
		text = "ra_become_shogun_open_decisions_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "tab_decisions"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_intro
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_decision
			trigger = {
				custom_tooltip = {
					text = "ra_become_shogun_open_decisions_prompt"
					is_widgetid_open = "decisions_panel_decisions_scrollarea"
				}
			}
		}
	}

	# Step 3 - Shogun Decision
	ra_become_shogun_decision = {
		text = "ra_become_shogun_decision_desc"
		shown_in_encyclopedia = no
		animation = left

		highlight_widget = tgp_japan_become_shogun_decision_tutorial_highlight

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_open_decisions
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_open_laws
		}

		trigger_transition = {
			target = ra_become_shogun_open_decisions
			trigger = {
				NOT = { is_widgetid_open = decisions_panel_decisions_scrollarea }
			}
		}
	}

	# Step 4 - Open Laws
	ra_become_shogun_open_laws = {
		text = "ra_become_shogun_open_laws_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "tab_my_realm_tutorial_uses_this"
		highlight_widget = "tutorial_highlight_laws_tab"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_decision
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_laws
			trigger = {
				custom_tooltip = {
					text = "ra_become_shogun_open_laws_prompt"
					is_widgetid_open = "realm_panel_top_laws"
				}
			}
		}
	}

	# Step 5 - Laws
	ra_become_shogun_laws = {
		text = "ra_become_shogun_laws_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "realm_law_group"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_open_laws
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_open_subjects
		}

		trigger_transition = {
			target = ra_become_shogun_open_laws
			trigger = {
				NOT = { is_widgetid_open = realm_panel_top_laws }
			}
		}
	}

	# Step 6 - Open Subjects
	ra_become_shogun_open_subjects = {
		text = "ra_become_shogun_open_subjects_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "tab_my_realm_tutorial_uses_this"
		highlight_widget = "tutorial_highlight_vassals_tab"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_laws
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_subjects
			trigger = {
				custom_tooltip = {
					text = "ra_become_shogun_open_subjects_prompt"
					is_widgetid_open = "tab_vassals"
				}
			}
		}
	}

	# Step 7 - Subjects
	ra_become_shogun_subjects = {
		text = "ra_become_shogun_subjects_desc"
		shown_in_encyclopedia = no
		animation = center

		highlight_widget = "government_filters_dropdown"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_open_subjects
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_become_shogun_end
		}

		trigger_transition = {
			target = ra_become_shogun_open_subjects
			trigger = {
				NOT = { is_widgetid_open = tab_vassals }
			}
		}
	}

	# Step 8 - End
	ra_become_shogun_end = {
		text = "ra_become_shogun_end_desc"
		shown_in_encyclopedia = no
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_become_shogun_subjects
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}
