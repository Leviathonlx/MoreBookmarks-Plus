@holding_illustration_western = "gfx/interface/illustrations/holding_types/castle_western.dds"
@holding_illustration_mena = "gfx/interface/illustrations/holding_types/castle_mena.dds"
@holding_illustration_india = "gfx/interface/illustrations/holding_types/castle_india.dds"
@holding_illustration_mediterranean = "gfx/interface/illustrations/holding_types/castle_mediterranean.dds"
@holding_illustration_norse = "gfx/interface/illustrations/holding_types/fp1_castle_norse.dds"
@holding_illustration_western_metro= "gfx/interface/illustrations/holding_types/cow_metropolis_western.dds"
@holding_illustration_mena_metro= "gfx/interface/illustrations/holding_types/cow_metropolis_mena.dds"
@holding_illustration_india_metro= "gfx/interface/illustrations/holding_types/cow_metropolis_india.dds"
@holding_illustration_mediterranean_metro= "gfx/interface/illustrations/holding_types/cow_metropolis_mediterranean.dds"
@holding_illustration_norse_metro= "gfx/interface/illustrations/holding_types/cow_metropolis_norse.dds"
@holding_illustration_iberian_metro= "gfx/interface/illustrations/holding_types/cow_metropolis_iberian.dds"
@holding_illustration_iberian= "gfx/interface/illustrations/holding_types/fp2_castle_iberian.dds"
@holding_illustration_slavic = "gfx/interface/illustrations/holding_types/castle_slavic.dds"
@holding_illustration_russian = "gfx/interface/illustrations/holding_types/castle_russian.dds"
@holding_illustration_celtic = "gfx/interface/illustrations/holding_types/castle_celtic.dds"
@holding_illustration_china = "gfx/interface/illustrations/holding_types/castle_china.dds"
@holding_illustration_korea = "gfx/interface/illustrations/holding_types/castle_korea.dds"
@holding_illustration_tibet = "gfx/interface/illustrations/holding_types/castle_tibet.dds"
@holding_illustration_yamato = "gfx/interface/illustrations/holding_types/castle_yamato.dds"
@holding_illustration_iranian = "gfx/interface/illustrations/holding_types/fp3_castle_iranian.dds" 
@holding_illustration_byzantine = "gfx/interface/illustrations/holding_types/ep3_castle_byzantine.dds"
@holding_illustration_constantinople = "gfx/interface/illustrations/holding_types/ep3_castle_constantinople.dds"

castle_01 = { # Town
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		names = {
			"building_western_castle_01_mesh"
			"building_western_castle_01_b_mesh"
		}
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
	}
	asset = {
		type = pdxmesh
		names = {
			"building_western_castle_01_mena_mesh"
			"building_western_castle_01_b_mena_mesh"
		}
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		names = {
			"building_western_castle_01_mediterranean_mesh"
			"building_western_castle_01_b_mediterranean_mesh"
		}
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		names = {
			"building_western_castle_01_mena_mesh"
			"building_western_castle_01_b_mena_mesh"
		}
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_01_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_01_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_01_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_01_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_01_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_01_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_japan }
	}
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_01_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_01_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_01_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
										 
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_01_western_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_01_mena_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_01_mediterranean_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_01_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india graphical_burma }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_01_western_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_01_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_01_mediterranean_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_01_indian_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_01_western_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_01_mena_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_01_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_01_indian_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_01_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
		#graphical_regions = { graphical_western }
		graphical_cultures = { celtic_building_gfx }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_01_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { germanic_building_gfx }
		#graphical_regions = { graphical_western graphical_steppe }
	}
	
	### FP1 Norse ###
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_01_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { norse_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_01_mena_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}		

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_01_mediterranean_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
 
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_01_indian_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}

	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_01_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	  
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_01_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_01_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_01_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_01_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_01_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_01_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_01_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_01_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { steppe_building_gfx }
	}

	#### BURMA ###
			   
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_01_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea graphical_burma }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_01_mesh"
		}
		illustration = @holding_illustration_russian 
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { slavic_building_gfx }
		#graphical_regions = { graphical_western }
	}

	can_construct_potential = {
		building_requirement_tribal = no
		barony_cannot_construct_holding = no
	}
	
	can_construct = {
		culture = {
			has_innovation = innovation_motte
		}
	}
	
	can_construct_showing_failures_only = {
		building_requirement_tribal = no
		building_requirement_tribal_holding_in_county = yes
	}
	cost_gold = main_building_tier_1_cost
	next_building = castle_02
	levy = normal_building_levy_tier_2
	max_garrison = good_building_max_garrison_tier_1
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_2
	province_modifier = {
		monthly_income = poor_building_tax_tier_2
		fort_level = great_building_fort_level_tier_1
		stationed_maa_damage_mult = normal_maa_damage_tier_1
		stationed_maa_toughness_mult = normal_maa_toughness_tier_1
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_1
		travel_danger = -10		 
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
	province_culture_modifier = {
		parameter = castle_fortifications_increase
		defender_holding_advantage = 5
	}

	character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.1
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 2
	}
	## SEA ##
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = yes
		tax_mult = thalassocratic_coastal_holdings_value
	}
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = no
		tax_mult = thalassocratic_non_coastal_holdings_value
	}
	## END SEA ##

	on_complete = {
		county.holder = {
			if = {
				limit = {
					any_vassal = {
						has_vassal_stance = parochial
					}
					save_temporary_scope_as = holder_scope
				}
				custom_tooltip = parochial_vassal_approves_holding_construction
				hidden_effect = {
					every_vassal = {
						limit = {
							has_vassal_stance = parochial
						}
						add_opinion = {
							target = prev
							modifier = parochial_approves_holding_construction_opinion
						}
					}
				}
			}
			# Harrying logic.
			if = {
				limit = {
					character_is_valid_for_harrying_of_the_north_trigger = yes
					is_important_or_vip_struggle_character = yes
				}
				global_var:harrying_of_the_north = { save_scope_as = story }
				if = {
					limit = { character_is_valid_norman_for_harrying_of_the_north_trigger = yes }
					ep3_increase_pacification_effect = { AMOUNT = harrying_medium_increase_value }
				}
				else_if = {
					limit = { character_is_valid_anglo_saxon_for_harrying_of_the_north_trigger = yes }
					ep3_increase_resistance_effect = { AMOUNT = harrying_medium_increase_value }
				}
			}
		}
	}
	flag = castle
	next_building = castle_02

	type_icon = "icon_building_ramparts.dds"		  
	
	ai_value = {
		base = 100
		modifier = {
			factor = 0
			scope:holder = {
				government_has_flag = government_is_theocracy
			}
		}
		modifier = {
			factor = 5
			scope:holder = {
				OR = {
					has_government = feudal_government
					has_government = clan_government
				}
			}
		}
		modifier = {
			add = 50
			county = {
				NOT = {
					any_county_province = {
						has_building_or_higher = castle_01
					}
				}
			}
		}
		modifier = {
			factor = 5
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
	}
}

castle_02 = { # City
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_02_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_02_mena_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_02_mediterranean_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_02_mena_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
		graphical_regions = { graphical_india }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_02_western_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_02_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_02_mediterranean_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_02_indian_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_02_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_02_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_02_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_02_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_02_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_02_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_regions = { graphical_japan }
	}
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_02_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_02_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_02_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_02_western_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_02_mena_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_02_mediterranean_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_02_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india graphical_burma }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_02_western_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_02_mena_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_02_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_02_indian_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}

	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_02_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { celtic_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_02_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { germanic_building_gfx }
		graphical_regions = { graphical_western graphical_steppe }
	}
	
	### FP1 Norse ###
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_02_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_western }
	}	

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_02_mena_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_02_mediterranean_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_02_indian_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}

	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_02_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_02_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_02_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_02_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_02_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_02_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_02_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_02_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_02_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { steppe_building_gfx }
	}

	
	#### BURMA ###
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_02_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea graphical_burma }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_02_mesh"
		}
		illustration = @holding_illustration_russian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 1 } }
		graphical_cultures = { slavic_building_gfx }
		graphical_regions = { graphical_western }
	}
	
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	can_construct = {
		culture = {
			has_innovation = innovation_battlements
		}
	}
	
	cost_gold = main_building_tier_2_cost
	
	levy = normal_building_levy_tier_4
	max_garrison = good_building_max_garrison_tier_3
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_4
	province_modifier = {
		monthly_income = poor_building_tax_tier_4
		fort_level = great_building_fort_level_tier_2
		stationed_maa_damage_mult = normal_maa_damage_tier_2
		stationed_maa_toughness_mult = normal_maa_toughness_tier_2
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_2
		travel_danger = -12			 
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
	province_culture_modifier = {
		parameter = castle_fortifications_increase
		defender_holding_advantage = 10
	}

	character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.1
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 3
	}
	## SEA ##
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = yes
		tax_mult = thalassocratic_coastal_holdings_value
	}
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = no
		tax_mult = thalassocratic_non_coastal_holdings_value
	}
	
	## END SEA ##
	flag = castle
	next_building = castle_03
	
	on_complete = {
		barony.holder = {
			if = {
				limit = {
					any_vassal = {
						has_vassal_stance = parochial
					}
					save_temporary_scope_as = holder_scope
				}
				custom_tooltip = parochial_vassal_approves_holding_upgrade
				hidden_effect = {
					every_vassal = {
						limit = {
							has_vassal_stance = parochial
						}
						add_opinion = {
							target = prev
							modifier = parochial_approves_holding_upgrade_opinion
						}
					}
				}
			}
		}
	}
	
	ai_value = {
		base = 9
		ai_general_building_modifier = yes
		modifier = {
			add = 1
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
		modifier = {
			add = 10
			scope:holder.culture = { has_cultural_era_or_later = culture_era_high_medieval }
		}
		modifier = {
			factor = 3
			scope:holder.capital_province = this
		}
		modifier = {
			factor = 0.2
			free_building_slots >= 1
			years_from_game_start >= 1
		}
		modifier = {
			factor = 0.2
			combined_building_level <= 10
			years_from_game_start >= 1
		}
		modifier = {
			factor = 0.3
			years_from_game_start <= 0.01
		}
	}
}

castle_03 = { # Great City
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_03_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_03_mena_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_03_mediterranean_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_03_indian_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
		graphical_regions = { graphical_india }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_03_western_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_03_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_03_mediterranean_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_03_indian_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_03_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_03_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_03_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_03_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_03_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_03_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_regions = { graphical_japan }
	}
 
			
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_03_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_03_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_03_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_03_western_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_03_mena_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_03_mediterranean_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_03_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india graphical_burma }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_03_western_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_03_mena_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_03_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_03_indian_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}

	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_03_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { celtic_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_03_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { germanic_building_gfx }
		graphical_regions = { graphical_western graphical_steppe }
	}

	### FP1 Norse ###
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_03_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_western }
	}

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_03_mena_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_03_mediterranean_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_03_indian_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}	
	
	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_03_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_03_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_03_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_03_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
 
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_03_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_03_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_03_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_03_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_03_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { steppe_building_gfx }
	}
	
	#### BURMA ###
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_03_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea graphical_burma }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_03_mesh"
		}
		illustration = @holding_illustration_russian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 2 } }
		graphical_cultures = { slavic_building_gfx }
		graphical_regions = { graphical_western }
	}

	can_construct_potential = {
		building_requirement_tribal = no
	}
	can_construct = {
		culture = {
			AND = {
				has_innovation = innovation_battlements
				has_innovation = innovation_burhs
			}
		}
	}
	
	cost_gold = main_building_tier_3_cost
	
	levy = normal_building_levy_tier_6
	max_garrison = good_building_max_garrison_tier_5
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_6
	province_modifier = {
		monthly_income = poor_building_tax_tier_6
		fort_level = great_building_fort_level_tier_3
		stationed_maa_damage_mult = normal_maa_damage_tier_3
		stationed_maa_toughness_mult = normal_maa_toughness_tier_3
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_3
		travel_danger = -14		 
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
	province_culture_modifier = {
		parameter = castle_fortifications_increase
		defender_holding_advantage = 15
	}

	character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.2
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 4
	}
	# SEA ##
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = yes
		tax_mult = thalassocratic_coastal_holdings_value
	}
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = no
		tax_mult = thalassocratic_non_coastal_holdings_value
	}
	## END SEA ##
	flag = castle
	next_building = castle_04
	
	on_complete = {
		barony.holder = {
			if = {
				limit = {
					any_vassal = {
						has_vassal_stance = parochial
					}
					save_temporary_scope_as = holder_scope
				}
				custom_tooltip = parochial_vassal_approves_holding_upgrade
				hidden_effect = {
					every_vassal = {
						limit = {
							has_vassal_stance = parochial
						}
						add_opinion = {
							target = prev
							modifier = parochial_approves_holding_upgrade_opinion
						}
					}
				}
			}
		}
	}
	
	ai_value = {
		base = 8
		ai_general_building_modifier = yes
		modifier = {
			add = 1
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
		modifier = {
			add = 10
			scope:holder.culture = { has_cultural_era_or_later = culture_era_late_medieval }
		}
		modifier = {
			factor = 3
			scope:holder.capital_province = this
		}
		modifier = {
			factor = 0.2
			combined_building_level <= 20
			years_from_game_start >= 1
		}
	}
}

castle_04 = { # Metropolis I
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mena_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mediterranean_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_indian_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_india }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_western_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_mediterranean_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_indian_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_04_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_korea
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_japan }
	}
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_04_western_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_04_mena_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_04_mediterranean_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_04_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india graphical_burma }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_04_western_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_04_mena_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_04_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_04_indian_mesh"
		illustration = @holding_illustration_mediterranean
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_04_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { celtic_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { germanic_building_gfx }
		graphical_regions = { graphical_western graphical_steppe }
	}

	### FP1 Norse ###
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_04_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_western }
	}

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_04_mena_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}

	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_04_mediterranean_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
 
	asset = {
		type = pdxmesh
		name = "fp1_building_norse_castle_04_indian_mesh"
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}

	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_04_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_04_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_04_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
 
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_04_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
	
	### BURMA ###
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_04_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_04_mesh"
		}
		illustration = @holding_illustration_russian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { slavic_building_gfx }
		graphical_regions = { graphical_western }
	}
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	can_construct = {
		culture = {
			has_innovation = innovation_hoardings
		}
	}
	
	cost_gold = main_building_tier_4_cost
	
	levy = normal_building_levy_tier_8
	max_garrison = good_building_max_garrison_tier_7
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_8
	province_modifier = {
		monthly_income = poor_building_tax_tier_8
		fort_level = great_building_fort_level_tier_3
		stationed_maa_damage_mult = normal_maa_damage_tier_4
		stationed_maa_toughness_mult = normal_maa_toughness_tier_4
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_4
		travel_danger = -16		 
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
	province_culture_modifier = {
		parameter = castle_fortifications_increase
		defender_holding_advantage = 20
	}

	character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.2
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 5
	}
	
	## SEA ##
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = yes
		tax_mult = thalassocratic_coastal_holdings_value
	}
	province_terrain_modifier = {
		parameter = thalassocratic_coastal_holdings
		is_coastal = no
		tax_mult = thalassocratic_non_coastal_holdings_value
	}
	## END SEA ##	  
	flag = castle
	next_building = castle_05

	type_icon = "icon_building_ramparts.dds"
	
	on_complete = {
		barony.holder = {
			if = {
				limit = {
					any_vassal = {
						has_vassal_stance = parochial
					}
					save_temporary_scope_as = holder_scope
				}
				custom_tooltip = parochial_vassal_approves_holding_upgrade
				hidden_effect = {
					every_vassal = {
						limit = {
							has_vassal_stance = parochial
						}
						add_opinion = {
							target = prev
							modifier = parochial_approves_holding_upgrade_opinion
						}
					}
				}
			}
		}
	}
	
	ai_value = {
		base = 17
		ai_general_building_modifier = yes
		modifier = {
			add = 1
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
		modifier = {
			factor = 3
			scope:holder.capital_province = this
		}
		modifier = {
			factor = 0.2
			combined_building_level <= 30
			years_from_game_start >= 1
		}
	}
}

castle_05 = { # Metropolis II
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_05_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_05_mena_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_05_mediterranean_mesh"
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_05_indian_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_india }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_05_western_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_05_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_05_mediterranean_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_05_indian_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_04_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_japan }
	}
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_05_western_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_05_mena_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_05_mediterranean_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_05_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_05_western_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_05_mena_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_05_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_05_indian_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}

	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_04_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { celtic_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { germanic_building_gfx }
		graphical_regions = { graphical_western graphical_steppe }
	}
	
	### FP1 Norse ###	
	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_05_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_western }
	}	

	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_05_mena_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}

	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_05_mediterranean_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_05_indian_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}

	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_05_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_05_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_05_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
 
	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_04_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
			   
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### BURMA ###
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_04_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_04_mesh"
		}
		illustration = @holding_illustration_russian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { slavic_building_gfx }
		graphical_regions = { graphical_western }
	}

	can_construct_potential = {
		building_requirement_tribal = no
	}
	can_construct = {
		culture = {
			AND = {
				has_innovation = innovation_hoardings
				has_innovation = innovation_castle_baileys
			}
		}
		county = { development_level >= 30 }
		
		
			custom_description = {
				text = custom_desc_liege
				OR = {
					AND = {
						has_game_rule = hard_mode_on
						has_game_rule = 9_burge_limit
						county.holder.top_liege = {
							any_realm_province = {
								OR = {
									has_building_or_higher = castle_05
									has_building_or_higher = city_05
								}
								count < 9
							}
						}
					}
					AND = {
						has_game_rule = hard_mode_on
						has_game_rule = 5_burge_limit
						county.holder.top_liege = {
							any_realm_province = {
								OR = {
									has_building_or_higher = castle_05
									has_building_or_higher = city_05
								}	
								count < 5
							}
						}
					}
					AND = {
						has_game_rule = hard_mode_on
						has_game_rule = 3_burge_limit
						county.holder.top_liege = {
							any_realm_province = {
								OR = {
									has_building_or_higher = castle_05
									has_building_or_higher = city_05
								}
								count < 3
							}
						}
					}
					has_game_rule = hard_mode_off
				}				
			}
			
			custom_description = {
				text = custom_desc_vassal
				OR = {
					AND = {
						has_game_rule = hard_mode_on
						has_game_rule = 9_burge_limit
						county.holder = {
							any_directly_owned_province = {
								OR = {
									has_building_or_higher = castle_05
									has_building_or_higher = city_05
								}
								count < 5
							}
						}
					}
					AND = {
						has_game_rule = hard_mode_on
						has_game_rule = 5_burge_limit
						county.holder = {
							any_directly_owned_province = {
								OR = {
									has_building_or_higher = castle_05
									has_building_or_higher = city_05
								}
								count < 3
							}
						}
					}
					AND = {
						has_game_rule = hard_mode_on
						has_game_rule = 3_burge_limit
						county.holder = {
							any_directly_owned_province = {
								OR = {
									has_building_or_higher = castle_05
									has_building_or_higher = city_05
								}
								count < 1
							}
						}
					}
					has_game_rule = hard_mode_off
				}				
			}
	}
	cost_gold = 1500
	
	levy = excellent_building_levy_tier_6
	max_garrison = good_building_max_garrison_tier_7
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_8
	province_modifier = {
		monthly_income = normal_building_tax_tier_8
		holding_build_gold_cost = -0.1
		fort_level = great_building_fort_level_tier_3
		stationed_maa_damage_mult = normal_maa_damage_tier_4
		stationed_maa_toughness_mult = normal_maa_toughness_tier_4
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_4
		travel_danger = -18			 
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
		character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.2
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 5
	}
	
	county_modifier = {
		development_growth = 0.1
		development_growth_factor = 0.15
	}
	
	flag = castle
	next_building = castle_06
	
	on_complete = {
			barony.holder = {
				if = {
					limit = {
						any_vassal = {
							has_vassal_stance = parochial
						}
						save_temporary_scope_as = holder_scope
					}
					custom_tooltip = parochial_vassal_approves_holding_upgrade
					hidden_effect = {
						every_vassal = {
							limit = {
								has_vassal_stance = parochial
							}
							add_opinion = {
								target = prev
								modifier = parochial_approves_holding_upgrade_opinion
							}
						}
					}
				}
			}	
			root = { save_scope_as = my_barony }
			trigger_event = populate_province.002						   
	}
	
	ai_value = {
		base = 15
		ai_general_building_modifier = yes
		modifier = {
			add = 1
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
		modifier = {
			factor = 3
			scope:holder.capital_province = this
		}
		modifier = {
			factor = 0.2
			combined_building_level <= 40
			years_from_game_start >= 1
		}
	}
}

castle_06 = { # Metropolis III
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_06_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_06_mena_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_06_mediterranean_mesh"
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_06_indian_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_india }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_06_western_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_06_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_06_mediterranean_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_06_indian_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_04_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_japan }
	}
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_06_western_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_06_mena_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_06_mediterranean_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_06_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_06_western_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_06_mena_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_06_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_06_indian_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}

	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_04_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { celtic_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { germanic_building_gfx }
		graphical_regions = { graphical_western graphical_steppe }
	}
	
	### FP1 Norse ###	
	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_06_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_western }
	}	

	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_06_mena_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}

	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_06_mediterranean_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_06_indian_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}

	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_06_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_06_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_06_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
			   
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_04_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}

	### BURMA ###
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_04_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_04_mesh"
		}
		illustration = @holding_illustration_russian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { slavic_building_gfx }
		graphical_regions = { graphical_western }
	}

	can_construct_potential = {
		building_requirement_tribal = no
	}
	can_construct = {
		culture = {
			has_innovation = innovation_machicolations
		}
		county = { development_level >= 40 }
	}
	cost_gold = 2000
	
	levy = excellent_building_levy_tier_7
	max_garrison = good_building_max_garrison_tier_7
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_8
	province_modifier = {
		monthly_income = good_building_tax_tier_8
		holding_build_gold_cost = -0.15
		fort_level = great_building_fort_level_tier_3
		stationed_maa_damage_mult = normal_maa_damage_tier_4
		stationed_maa_toughness_mult = normal_maa_toughness_tier_4
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_4
		travel_danger = -20											  
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
	character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.2
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 5
	}
	
	county_modifier = {
		development_growth = 0.15
		development_growth_factor = 0.2
	}
	
	flag = castle
	next_building = castle_07
	
	on_complete = {
			barony.holder = {
				if = {
					limit = {
						any_vassal = {
							has_vassal_stance = parochial
						}
						save_temporary_scope_as = holder_scope
					}
					custom_tooltip = parochial_vassal_approves_holding_upgrade
					hidden_effect = {
						every_vassal = {
							limit = {
								has_vassal_stance = parochial
							}
							add_opinion = {
								target = prev
								modifier = parochial_approves_holding_upgrade_opinion
							}
						}
					}
				}
			}
			root = { save_scope_as = my_barony }
			trigger_event = populate_province.002
	}
	
	ai_value = {
		base = 14
		ai_general_building_modifier = yes
		modifier = {
			add = 1
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
		modifier = {
			factor = 3
			scope:holder.capital_province = this
		}
		modifier = {
			factor = 0.2
			combined_building_level <= 50
			years_from_game_start >= 1
		}
	}
}

castle_07 = { # Megalopolis
	construction_time = slow_construction_time
	
	### WESTERN ###
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_07_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_07_mena_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_western_castle_07_mediterranean_mesh"
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		   
		name = "building_western_castle_07_indian_mesh"
   
		illustration = @holding_illustration_western_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_india }
	}
	
	### MENA ###
	asset = {
		type = pdxmesh
		name = "building_mena_castle_07_western_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_07_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_07_mediterranean_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mena_castle_07_indian_mesh"
		illustration = @holding_illustration_mena_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mena_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### SEA ###
	asset = {
		type = pdxmesh
		name = "building_sea_castle_04_mesh"
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { sea_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### CHINA ###
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_china }
	}
	asset = {
		type = pdxmesh
		name = "building_chinese_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { chinese_building_gfx }
	}

	### KOREA ###
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_korea }
	}
	asset = {
		type = pdxmesh
		name = "building_korean_castle_04_mesh"
		illustration = @holding_illustration_china
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { korean_building_gfx }
	}

	### JAPAN ###
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_regions = { graphical_japan }
	}
	asset = {
		type = pdxmesh
		name = "building_japanese_castle_04_mesh"
		illustration = @holding_illustration_yamato
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { yamato_building_gfx }
	}

	### TIBET ###
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_regions = { graphical_tibet }
	}
	asset = {
		type = pdxmesh
		name = "building_tibetan_castle_04_mesh"
		illustration = @holding_illustration_tibet
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 0 } }
		graphical_cultures = { tibetan_building_gfx }
	}
	
	### INDIAN ###
	asset = {
		type = pdxmesh
		name = "building_indian_castle_07_western_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_07_mena_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_07_mediterranean_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_indian_castle_07_mesh"
		illustration = @holding_illustration_india_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	### MEDITERRANEAN ###
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_07_western_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_07_mena_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mena }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_07_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	asset = {
		type = pdxmesh
		name = "building_mediterranean_castle_07_indian_mesh"
		illustration = @holding_illustration_mediterranean_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { mediterranean_building_gfx }
		graphical_regions = { graphical_india }
	}

	### CELTIC ###
	asset = {
		type = pdxmesh
		name = "building_celtic_hillfort_04_mesh"
		illustration = @holding_illustration_celtic
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { celtic_building_gfx }
		#graphical_regions = { graphical_western }
	}
	
	### Germanic ###
	asset = {
		type = pdxmesh
		name = "building_western_castle_04_mesh"
		illustration = @holding_illustration_western
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { germanic_building_gfx }
		graphical_regions = { graphical_western graphical_steppe }
	}
	
	### FP1 Norse ###	
	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_07_norse_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_western }
	}	

	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_07_mena_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mena }
	}

	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_07_mediterranean_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "fp1_building_norse_castle_07_indian_mesh"
   
		requires_dlc_flag = the_northern_lords
		illustration = @holding_illustration_norse_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/nordic_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { norse_building_gfx }
		graphical_regions = { graphical_india }
	}

	### FP2 Iberian ###
	asset = {
		type = pdxmesh
		name = "fp2_building_iberian_castle_07_mesh"
		requires_dlc_flag = the_fate_of_iberia
		illustration = @holding_illustration_iberian_metro
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/iberian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iberian_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}
	
	### FP3 Iranian ###
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_07_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}

			   
	asset = {
		type = pdxmesh
		   
		name = "fp3_building_persian_castle_07_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}
	
	asset = {
		type = pdxmesh
		   
		name = "building_mena_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_mena }
	}
 
	asset = {
		type = pdxmesh
		   
		name = "building_indian_castle_04_mesh"
   
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { iranian_building_gfx }
		graphical_regions = { graphical_india }
	}

	### EP3 Byzantine ###
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_constantinople
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		provinces = { 496 }
	}
	asset = {
		type = pdxmesh
		name = "ep3_byzantine_castle_04_a_mesh"
		requires_dlc_flag = roads_to_power
		illustration = @holding_illustration_byzantine
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mediterranean_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { byzantine_building_gfx }
		graphical_regions = { graphical_mediterranean }
	}

	#Steppe fallbacks
	#Iranian
	asset = {
		type = pdxmesh
		name = "fp3_building_persian_castle_04_a_01_mesh"
		requires_dlc_flag = legacy_of_persia
		illustration = @holding_illustration_iranian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
	#mena
	asset = {
		type = pdxmesh
		name = "building_mena_castle_04_mesh"
		illustration = @holding_illustration_mena
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/mena_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { steppe_building_gfx }
	}
	
	### BURMA ###
	asset = {
		type = pdxmesh
		names = {
			"building_sea_castle_04_mesh"
		}
		illustration = @holding_illustration_india
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/indian_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { indian_building_gfx }
		graphical_regions = { graphical_sea }
	}
	
	### Slavic ###
	asset = {
		type = pdxmesh
		names = {
			"slavic_castle_04_mesh"
		}
		illustration = @holding_illustration_russian
		soundeffect = { soundeffect = "event:/SFX/Ambience/3DMapEmitters/Holdings/Castle/western_castle" soundparameter = { "Tier" = 3 } }
		graphical_cultures = { slavic_building_gfx }
		graphical_regions = { graphical_western }
	}
	
	can_construct_potential = {
		building_requirement_tribal = no
	}
	can_construct = {
		culture = {
			AND = {
				has_innovation = innovation_machicolations
				has_innovation = innovation_royal_armory
			}
		}
		county = { development_level >= 50 }
	}
	cost_gold = 2500
	
	levy = excellent_building_levy_tier_8
	max_garrison = good_building_max_garrison_tier_8
	garrison_reinforcement_factor = building_garrison_reinforcement_factor_tier_8
	province_modifier = {
		monthly_income = excellent_building_tax_tier_8
		holding_build_gold_cost = -0.2
		fort_level = great_building_fort_level_tier_3
		stationed_maa_damage_mult = normal_maa_damage_tier_4
		stationed_maa_toughness_mult = normal_maa_toughness_tier_4
		stationed_siege_weapon_siege_value_mult = normal_maa_siege_value_tier_4
		travel_danger = -22											  
	}

	province_terrain_modifier = {
		parameter = coastal_holding_bonuses
		is_coastal = yes
		build_speed = -0.1
	}
	
	character_culture_modifier = {
		parameter = castle_grant_prestige
		monthly_prestige = 0.2
		monthly_dynasty_prestige = 0.1
	}

	province_terrain_modifier = {
		parameter = maritime_mercantilism_coastal_holdings
		is_coastal = yes
		tax_mult = maritime_mercantilism_coastal_holdings_value
	}

	province_terrain_modifier = {
		parameter = castle_holding_fort_level_in_jungle_bonus
		terrain = jungle
		additional_fort_level = castle_holding_fort_level_in_jungle_bonus_value
	}

	province_terrain_modifier = {
		parameter = coastal_holdings_give_defensive_bonus
		is_coastal = yes
		defender_holding_advantage = 5
	}
	
	county_modifier = {
		development_growth = 0.2
		development_growth_factor = 0.25
	}
	
	flag = castle
	
	on_complete = {
		barony.holder = {
			if = {
				limit = {
					any_vassal = {
						has_vassal_stance = parochial
					}
					save_temporary_scope_as = holder_scope
				}
				custom_tooltip = parochial_vassal_approves_holding_upgrade
				hidden_effect = {
					every_vassal = {
						limit = {
							has_vassal_stance = parochial
						}
						add_opinion = {
							target = prev
							modifier = parochial_approves_holding_upgrade_opinion
						}
					}
				}
			}
			root = { save_scope_as = my_barony }
			trigger_event = populate_province.002
		}
	}
	
	ai_value = {
		base = 13
		ai_general_building_modifier = yes
		modifier = {
			add = 1
			scope:holder.culture = { has_cultural_parameter = ai_more_likely_to_castle }
		}
		modifier = {
			factor = 3
			scope:holder.capital_province = this
		}
		modifier = {
			factor = 0.2
			combined_building_level <= 60
			years_from_game_start >= 1
		}
	}
}
